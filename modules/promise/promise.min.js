$ch.define("promise",function(){"use strict";$$CHOP.promise={},$$CHOP.promise={defer:function(){var t={promise:this,data:void 0,callbacks:[],then:function(t){return this.callbacks.push(t),this},resolve:function(t){this.data=t;var i=this;$$CHOP.each(this.callbacks,function(t){i.data=t(i.data)})}};return t}}});