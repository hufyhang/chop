$ch.define("xml",function(){"use strict";$$CHOP.xml={},$$CHOP.xml._toJSON=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes.item(n),s=o.nodeName;if("undefined"==typeof t[s])t[s]=this._toJSON(o);else{if("undefined"==typeof t[s].push){var a=t[s];t[s]=[],t[s].push(a)}t[s].push(this._toJSON(o))}}return t},$$CHOP.xml.toJSON=function(e){var t;if(0===arguments.length)throw new Error("$ch.xmlToJson requires a parameter.");if("string"==typeof e)if(window.ActiveXObject)t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);else{var r=new DOMParser;t=r.parseFromString(e,"text/xml")}else t=e;return this._toJSON(t)}});