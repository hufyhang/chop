$ch.define("store",function(){"use strict";$$CHOP.store={};var e={_cache:{}};$$CHOP.store={local:function(e,r){if("undefined"==typeof Storage)throw new Error("Local storage is not supported by browser.");if(0===arguments.length)throw new Error("$ch.store.local requires at least one parameter.");if(1===arguments.length){var t=localStorage.getItem(e);return null!==t&&(t=JSON.parse(t)),t}if(void 0===r)throw new Error("$ch.store.local does not allow undefined value.");localStorage.setItem(e,JSON.stringify(r))},session:function(e,r){if("undefined"==typeof Storage)throw new Error("Session storage is not supported by browser.");if(0===arguments.length)throw new Error("$ch.store.session requires at least one parameter.");if(1===arguments.length){var t=sessionStorage.getItem(e);return null!==t&&(t=JSON.parse(t)),t}if(void 0===r)throw new Error("$ch.store.session does not allow undefined value.");sessionStorage.setItem(e,JSON.stringify(r))},cookie:function(e,r,t){if(void 0===document.cookie)throw new Error("Cookie is not supported by this browser.");var o,n;if(0===arguments.length)return n=document.cookie,void 0===n||""===n?"":n;if(1===arguments.length&&(n=document.cookie,"object"==typeof e&&($$CHOP.each(e,function(e,r){o=new RegExp(e+"\\ *=[^;]{0,}","g"),n=n.replace(o,""),n=e+"="+encodeURIComponent(r)+";"+n}),document.cookie=n),"string"==typeof e)){if(n=document.cookie,void 0===n||""===n)return"";o=new RegExp(e+"\\ *=[^;]{0,}","g");var i=n.match(o);if(null!==i){var s=i[0];return o=new RegExp(e+"\\ *=\\ *","g"),s=s.trim().replace(o,"").trim(),decodeURIComponent(s)}return null}if(arguments.length>=2)if(n=document.cookie,void 0===n&&(n=""),o=new RegExp(e+"\\ *=[0-9A-Za-z\\.\\ \\-%]+;?","g"),n=n.replace(o,""),n=e+"="+encodeURIComponent(r)+";"+n,3===arguments.length){void 0!==t&&(t=parseFloat(t,10));var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var c="expires="+a.toGMTString();document.cookie=n+"; "+c}else document.cookie=n},cache:function(r,t){if(0===arguments.length)return e._cache;if(1===arguments.length){if("string"!=typeof r)throw new Error("$ch.store.cache requires a string-type parameter.");return e._cache[r]}if(2===arguments.length){if("string"!=typeof r)throw new Error('$ch.store.cache requires a string-type value for "key" parameter.');return e._cache[r]={},e._cache[r]=t,this}}}});