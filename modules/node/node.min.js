$ch.define("node",function(){"use strict";var e=function(){var n={_node:void 0,_chopel:void 0,context:function(){return this._node},chopEl:function(){return this._chopel},parent:function(){var n=e();return n._node=this._node.parentNode,n},child:function(){for(var n=this._node.childNodes,t=[],r=0,i=n.length;r!==i;++r){var o=n[r],s=e();s._node=o,t.push(s)}return t},remove:function(){return this._node.remove(),this},contains:function(e){if(0===arguments.length)throw new Error(".contains requires a chop.js node parameter.");for(var n=this._node.childNodes,t=!1,r=0,i=n.length;r!==i;++r){var o=n[r];o===e._node&&(t=!0)}return t},next:function(){var n=e();return n._node=this._node.nextElementSibling,n},previous:function(){var n=e();return n._node=this._node.previousElementSibling,n},html:function(e){return 0===arguments.length?this._node.innerHTML:(this._node.innerHTML=e,$$CHOP._loadView(this._node),this)},append:function(e){return void 0!==e&&this.html(this._node.innerHTML+e),this},prepend:function(e){return void 0!==e&&this.html(e+this._node.innerHTML),this},"class":function(e){if(void 0!==e){var n=!0;if($$CHOP.isArray(e)){var t=this;$$CHOP.each(e,function(e){-1===t._node.className.indexOf(e)&&(n=!1)})}else-1===this._node.className.indexOf(e)&&(n=!1);return n}return this._node.className},addClass:function(e){if(void 0!==e)if($$CHOP.isArray(e)){var n=this;$$CHOP.each(e,function(e){n._node.className+=e+" "})}else this._node.className+=e+" ";return this},removeClass:function(e){if(void 0!==e){var n;$$CHOP.isArray(e)?(n=this._node.className,$$CHOP.each(e,function(e){n=n.replace(e,"")}),this._node.className=n.replace(e,"")):(n=this._node.className,this._node.className=n.replace(e,""))}return this},attr:function(e,n){if(0===arguments.length)return this._node.attributes;if(1===arguments.length)return this._node.getAttribute(e);this._node.setAttribute(e,n);var t=this._node.parentNode;return null!==t&&void 0!==t&&$$CHOP._loadView(t),this},prependNode:function(e){if(0===arguments.length)throw new Error(".prependNode requires a node parameter.");var n=this.child();return 0!==n.length?this._node.insertBefore(e._node,n[0]._node):this._node.appendChild(e._node),$$CHOP._loadView(this._node),this},appendNode:function(e){if(0===arguments.length)throw new Error(".appendNode requires a node parameter.");return this._node.appendChild(e._node),$$CHOP._loadView(this._node),this},insert:function(e,n){return void 0===n&&(n="after"),"string"!=typeof e&&$$CHOP.isArray(e)===!1&&(e=e.html()),n=n.toUpperCase(),"AFTER"!==n&&"BEFORE"!==n&&(n="AFTER"),"AFTER"===n?this.html(this.html()+e):"BEFORE"===n&&this.html(e+this.html()),this},removeNode:function(e){if(0===arguments.length)throw new Error(".removeNode requires a node parameter.");return this._node.removeChild(e._node),$$CHOP._loadView(this._node),this}};return n};$$CHOPEL.node=function(){var n=e();return n._node=this.el,n._chopel=this,n},$$CHOPEL.child=function(){for(var n=this.el.childNodes,t=[],r=0,i=n.length;r!==i;++r){var o=n[r],s=e();s._node=o,t.push(s)}return t},$$CHOP.node=function(n,t){if(0===arguments.length)throw new Error("$ch.node requires at least one tag-name parameter.");var r=document.createElement(n);void 0!==t&&(r.innerHTML=t);var i=e();return i._node=r,i},$$CHOPEL.appendNode=function(e){if(0===arguments.length)throw new Error(".appendNode requires a node parameter.");return this.el.appendChild(e._node),$$CHOP._loadView(this.el),this},$$CHOPEL.removeNode=function(e){if(0===arguments.length)throw new Error(".removeNode requires a node parameter.");return this.el.removeChild(e._node),$$CHOP._loadView(this.el),this}});