$ch.define("service",function(){"use strict";$ch.require("router"),$$CHOP.service={},$$CHOP.service={_services:{},add:function(e,i){this._services[e]={name:e,view:i}}},$$CHOP.router.add({"_chopjs_service/:name/:data":function(e){var i={},r=e.data.split("&");$$CHOP.each(r,function(e){var r=e.split("=")[0].trim(),t=e.split("=")[1].trim();i[r]=t});var t,c=$$CHOP.service._services[e.name];t=void 0===c?$$CHOP.view({html:"Oops! No such Chop.js service."}):c.view(i),$$CHOP.find("html").view(t)}});var e=$$CHOP.findAll("ch-service");$$CHOP.each(e,function(e){e=e.el;var i,r=e.getAttribute("src").trim(),t=e.getAttribute("service").trim();i="/"===r.slice(-1)?"#/_chopjs_service/":"/#/_chopjs_service/",r=r+i+t;var c=[],s=e.querySelectorAll("ch-data");$$CHOP.each(s,function(e){var i=e.getAttribute("key").trim(),r=e.innerHTML;c.push(i+"="+r)}),r+="/"+c.join("&"),e.innerHTML='<iframe src="'+r+'"></iframe>'})});