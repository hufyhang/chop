if($ch.define("rdfa",function(){"use strict";$$CHOP.rdfa={};var t=function(t,e,r){if(void 0===r){var a=t.querySelectorAll("["+e+"]"),s=[];return $$CHOP.each(a,function(t){t=t.getAttribute(e).trim(),-1===s.indexOf(t)&&s.push(t)}),a=s}var i=t.querySelectorAll("["+e+'="'+r+'"]');if(null===i)return null;var n=[];return $$CHOP.each(i,function(t){var e={};e.el=t,e.scope=e.el,e.innerHTML=t.innerHTML;var r=t.getAttribute("href");null!==r&&(e.href=r),r=t.getAttribute("about"),null!==r&&(e.about=r),r=t.getAttribute("typeof"),null!==r&&(e.typeof=r),r=t.getAttribute("resource"),null!==r&&(e.resource=r),r=t.getAttribute("property"),null!==r&&(e.property=r),r=t.getAttribute("rel"),null!==r&&(e.rel=r),r=t.getAttribute("content"),null!==r&&(e.content=r),n.push(e)}),n};$$CHOP.rdfa={scope:document,about:function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"about",r)},rel:function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"rel",r)},property:function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"property",r)},"typeof":function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"typeof",r)},content:function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"content",r)},resource:function(e,r){return 0===arguments.length?(e=this.scope,r=void 0):1===arguments.length&&("string"==typeof e?(r=e,e=this.scope):r=void 0),t(e,"resource",r)},trace:function(t,e,r){if(0===arguments.length)throw new Error("$ch.rdfa.trace requires at least one parameter.");if("string"==typeof t)e=t,t=this.scope;else if(arguments.length<2)throw new Error("$ch.rdfa.trace requires a target parameter.");void 0===r&&(r="href");var a=t.querySelectorAll("["+e+"]"),s={};return $$CHOP.each(a,function(e){var a=e.getAttribute(r);s[a]={};var i=t.querySelector('[resource="'+a+'"]');null===i&&(i=t.querySelector('[about="'+a+'"]')),s[a].scope=i;var n=i.getAttribute("typeof");s[a].typeof=n;var o=i.querySelectorAll("[property]");$$CHOP.each(o,function(t){var e=t.getAttribute("property"),r=t.getAttribute("content")||t.innerHTML;s[a][e]=r})}),s},_checkProperty:function(t,e,r,a){var s=t.querySelectorAll("[property],[rel]");return $$CHOP.each(s,function(t){var s=t.getAttribute("href"),i=t.getAttribute("typeof"),n=t.getAttribute("property")||t.getAttribute("rel"),o=t.getAttribute("content")||t.getAttribute("resource")||i||s||t.innerHTML;null!==i?((void 0===e[a][n]||$$CHOP.isArray(e[a][n])===!1)&&(e[a][n]=[]),e[a][n].push(o)):(null!==s?((void 0===e[a][n]||$$CHOP.isArray(e[a][n])===!1)&&(e[a][n]=[]),e[a][n].push(s)):e[a][n]=o,r.push(t))}),e},_linkSubjects:function(t,e){var r=this;return $$CHOP.each(t,function(a,s){delete s.graph,delete s.origins;var i=s.predicates;void 0!==i&&$$CHOP.each(i,function(a,s){var i=s.objects;$$CHOP.isArray(i)!==!1&&$$CHOP.each(i,function(a){delete a.origin;var s=a.value;if(void 0!==t[s]){var i=t[s];i=r._linkSubjects(i,e),a.subject=i,e.push(s)}})})}),t},graph:function(){var t=document.data.graph.subjects,e=[];return t=this._linkSubjects(t,e),$$CHOP.each(e,function(e){delete t[e]}),t},subject:function(t){return"string"!=typeof t?document.data.graph.subjects:document.data.getSubject(t)}}}),"undefined"==typeof GreenTurtle)var GreenTurtle=function(){function t(){}function e(t){this.target=t?t:{graph:{subjects:{},prefixes:{},terms:{}}},this.theOne="_:"+(new Date).getTime(),this.vocabulary=this.language=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}function r(){var t=this;this.curieParser={trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(e,r){e=this.trim(e),"["==e.charAt(0)&&"]"==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1));var a=e.indexOf(":");if(a>=0){var s=e.substring(0,a);if(""==s)return(s=t.prefixes[""])?s+e.substring(a+1):null;if("_"==s)return"_:"+e.substring(a+1);if(p.NCNAME.test(s)&&(s=t.prefixes[s]))return s+e.substring(a+1)}return r?t.baseURI.resolve(e):e}},this.base=null,this.toString=function(t){var e=t&&t.shorten?{graph:this,shorten:!0,prefixesUsed:{}}:null;s="";for(var r in this.subjects)s+=this.subjects[r].toString(e),s+="\n";if(t=t&&t.baseURI?"@base <"+baseURI+"> .\n":"",e&&e.shorten)for(var a in e.prefixesUsed)t+="@prefix "+a+" <"+this.prefixes[a]+"> .\n";return 0==t.length?s:t+"\n"+s},this.clear=function(){this.subjects={},this.prefixes={},this.terms={}},this.clear(),Object.defineProperty(this,"tripleCount",{enumerable:!0,configurable:!1,get:function(){var t,e=0;for(t in this.subjects){var r,a=this.subjects[t];for(r in a.predicates)e+=a.predicates[r].objects.length}return e}})}function a(t,e){this.graph=t,this.id=this.subject=e,this.predicates={},this.origins=[],this.types=[]}function i(t){this.predicate=this.id=t,this.objects=[]}function n(t){e.call(this,t)}function o(t){this.query=function(e,r){if(!e)return t.getProjections(r);var a,s=[];for(a in t._data_.graph.subjects){var i,n=t._data_.graph.subjects[a];for(i in e){var o=t._data_.graph.curieParser.parse(i,!0),o=n.predicates[o];if(!o){n=null;break}for(var h=t._data_.graph.curieParser.parse(e[i],!1),u=null,c=0;!u&&c<o.objects.length;c++)o.objects[c].value==h&&(u=o.objects[c]);if(!u){n=null;break}}n&&s.push(p.toProjection(t,n,r))}return s}}function h(t,e){this._data_={owner:t,subject:e,properties:{}}}function p(t){this._data_={graph:new r},this._data_.graph.baseURI=this.parseURI(t),this._data_.baseURI=this._data_.graph.baseURI,Object.defineProperty(this,"rdfa",{value:new o(this),writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"graph",{value:this._data_.graph,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"implementation",{value:GreenTurtle.implementation,writable:!1,configurable:!1,enumerable:!0})}function u(){this.reset(),this.onError=function(t,e){console.log(t+": "+e)}}function c(){this.blankCounter=0,this.vocabularies=[{namespaceURI:"http://schema.org/",isMember:function(t){return 0==t.indexOf(this.namespaceURI)},getProperty:function(t){return this.namespaceURI+t}}]}function l(t){c.call(this),this.graph=t}var g={version:"1.2.0"};t.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/,t.prototype.parseURI=function(e){var r=t.SCHEME.exec(e);if(!r)throw"Bad URI value, no scheme: "+e;return e={spec:e},e.scheme=r[0].substring(0,r[0].length-1),e.schemeSpecificPart=e.spec.substring(r[0].length),"/"==e.schemeSpecificPart.charAt(0)&&"/"==e.schemeSpecificPart.charAt(1)?this.parseGeneric(e):e.isGeneric=!1,e.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(1<this.path.length&&"/."==this.path.substring(this.path.length-2))this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1);else{var t=this.path.charAt(this.path.length-1);"/"!=t&&(t="");for(var e=0;e<this.segments.length;e++)e>0&&".."==this.segments[e]&&(this.segments.splice(e-1,2),e-=2),"."==this.segments[e]&&(this.segments.splice(e,1),e--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+t}this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},e.resolve=function(e){if(!e)return this.spec;if("#"==e.charAt(0)){var r=this.spec.lastIndexOf("#");return 0>r?this.spec+e:this.spec.substring(0,r)+e}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;return e.indexOf(":"),"/"==e.charAt(0)?this.scheme+"://"+this.authority+e:"."==e.charAt(0)&&"/"==e.charAt(1)?"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e.substring(2):(r=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,r)+e.substring(1)):t.SCHEME.test(e)?e:"?"==e.charAt(0)||"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e:(r=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,r+1)+e)},e.relativeTo=function(t){if(t.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!t.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+t.spec;if(t.authority!=this.authority)return this.spec;for(var e=0;e<this.segments.length&&e<t.segments.length;e++)if(this.segments[e]!=t.segments[e]){for(var r="",a=e;a<t.segments.length;a++)r+="../";for(a=e;a<this.segments.length;a++)r+=this.segments[a],a+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}if(this.segments.length==t.segments.length)return this.hash?this.hash:this.query?this.query:"";if(e<this.segments.length){for(r="",a=e;a<this.segments.length;a++)r+=this.segments[a],a+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}throw"Cannot calculate a relative URI for "+this.spec+" against "+t.spec},e},t.prototype.parseGeneric=function(t){if("/"!=t.schemeSpecificPart.charAt(0)||"/"!=t.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+t.spec;var e=t.schemeSpecificPart.substring(2),r=e.indexOf("/");if(t.authority=0>r?e:e.substring(0,r),t.path=0>r?"":e.substring(r),e=t.path.indexOf("#"),e>=0&&(t.fragment=t.path.substring(e+1),t.path=t.path.substring(0,e)),e=t.path.indexOf("?"),e>=0&&(t.query=t.path.substring(e+1),t.path=t.path.substring(0,e)),"/"==t.path||""==t.path)t.segments=[];else for(t.segments=t.path.split(/\//),0<t.segments.length&&""==t.segments[0]&&1<t.path.length&&"/"!=t.path.charAt(1)&&t.segments.shift(),0<t.segments.length&&0<t.path.length&&"/"==t.path.charAt(t.path.length-1)&&""==t.segments[t.segments.length-1]&&1<t.path.length&&"/"!=t.path.charAt(t.path.length-2)&&t.segments.pop(),e=0;e<t.segments.length;e++)for(var r=t.segments[e].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),a=0;a<r.length;a++)if(0<r[a].length)throw"Unecaped character "+r[a].charAt(0)+" ("+r[a].charCodeAt(0)+") in URI "+t.spec;t.isGeneric=!0},e.prototype=new t,e.prototype.constructor=e,e.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},e.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",e.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",e.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",e.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",e.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",e.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",e.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",e.NCNAME=RegExp("^"+e.nameStartChar+e.nameChar+"*$"),e.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},e.prototype.tokenize=function(t){return e.trim(t).split(/\s+/)},e.prototype.parseSafeCURIEOrCURIEOrURI=function(t,r,a){return t=e.trim(t),"["==t.charAt(0)&&"]"==t.charAt(t.length-1)?(t=t.substring(1,t.length-1),t=t.trim(t),0==t.length?null:"_:"==t?this.theOne:this.parseCURIE(t,r,a)):this.parseCURIEOrURI(t,r,a)},e.prototype.parseCURIE=function(t,r){var a=t.indexOf(":");if(a>=0){var s=t.substring(0,a);if(""==s)return(s=r[""])?s+t.substring(a+1):null;if("_"==s)return"_:"+t.substring(a+1);if(e.NCNAME.test(s)&&(s=r[s]))return s+t.substring(a+1)}return null},e.prototype.parseCURIEOrURI=function(t,e,r){return(e=this.parseCURIE(t,e,r))?e:this.resolveAndNormalize(r,t)},e.prototype.parsePredicate=function(t,e,r,a,s,i){return""==t?null:(t=this.parseTermOrCURIEOrAbsURI(t,e,i?null:r,a,s))&&0==t.indexOf("_:")?null:t},e.prototype.parseTermOrCURIEOrURI=function(t,r,a,s,i){return t=e.trim(t),(s=this.parseCURIE(t,s,i))||(s=a[t])?s:(s=t.toLowerCase(),(s=a[s])?s:r&&!this.absURIRE.exec(t)?r+t:this.resolveAndNormalize(i,t))},e.prototype.parseTermOrCURIEOrAbsURI=function(t,r,a,s,i){if(t=e.trim(t),s=this.parseCURIE(t,s,i))return s;if(a){if(r&&!this.absURIRE.exec(t))return r+t;if(r=a[t])return r;if(r=t.toLowerCase(),r=a[r])return r}return this.absURIRE.exec(t)?this.resolveAndNormalize(i,t):null},e.prototype.resolveAndNormalize=function(t,e){var r=t.resolve(e),r=this.parseURI(r);return r.normalize(),r.spec},e.prototype.parsePrefixMappings=function(t,e){for(var r=this.tokenize(t),a=null,s=0;s<r.length;s++)":"==r[s][r[s].length-1]?a=r[s].substring(0,r[s].length-1):a&&(e[a]=this.target.baseURI?this.target.baseURI.resolve(r[s]):r[s],a=null)},e.prototype.copyMappings=function(t){var e,r={};for(e in t)r[e]=t[e];return r},e.prototype.ancestorPath=function(t){for(var e="";t&&t.nodeType!=Node.DOCUMENT_NODE;)e="/"+t.localName+e,t=t.parentNode;return e},e.prototype.setContext=function(t){"html"==t.localName&&"XHTML+RDFa 1.1"==t.getAttribute("version")?this.setXHTMLContext():"html"==t.localName||"http://www.w3.org/1999/xhtml"==t.namespaceURI?document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()},e.prototype.setInitialContext=function(){this.vocabulary=null,this.target.graph.prefixes={},this.target.graph.terms={},this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.target.graph.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.graph.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.graph.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.graph.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.graph.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.graph.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.graph.prefixes.rif="http://www.w3.org/2007/rif#",this.target.graph.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.graph.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.graph.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.graph.prefixes["void"]="http://rdfs.org/ns/void#",this.target.graph.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.graph.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.graph.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.graph.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.graph.prefixes.org="http://www.w3.org/ns/org#",this.target.graph.prefixes.gldp="http://www.w3.org/ns/people#",this.target.graph.prefixes.cnt="http://www.w3.org/2008/content#",this.target.graph.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.earl="http://www.w3.org/ns/earl#",this.target.graph.prefixes.ht="http://www.w3.org/2006/http#",this.target.graph.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.graph.prefixes.cc="http://creativecommons.org/ns#",this.target.graph.prefixes.ctag="http://commontag.org/ns#",this.target.graph.prefixes.dc="http://purl.org/dc/terms/",this.target.graph.prefixes.dcterms="http://purl.org/dc/terms/",this.target.graph.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.graph.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.graph.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.graph.prefixes.og="http://ogp.me/ns#",this.target.graph.prefixes.rev="http://purl.org/stuff/rev#",this.target.graph.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.graph.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.graph.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.graph.prefixes.schema="http://schema.org/",this.target.graph.terms.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role"},e.prototype.setXMLContext=function(){this.setInitialContext(),this.inHTMLMode=this.inXHTMLMode=!1},e.prototype.setHTMLContext=function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0},e.prototype.setXHTMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"},e.prototype.init=function(){},e.prototype.newSubjectOrigin=function(){},e.prototype.addTriple=function(){},e.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],e.deriveDateTimeType=function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var a=e.dateTimeTypes[r].pattern.exec(t);if(a&&a[0].length==t.length)return e.dateTimeTypes[r].type}return null},e.prototype.process=function(t,r){t.nodeType==Node.DOCUMENT_NODE?(t=t.documentElement,this.setContext(t)):t.parentNode.nodeType==Node.DOCUMENT_NODE&&this.setContext(t);var a=[],s=function(t){var e=t.indexOf("#");return e>=0&&(t=t.substring(0,e)),r&&r.baseURIMap&&(t=r.baseURIMap(t)),t};for(a.push({current:t,context:this.push(null,s(t.baseURI))});0<a.length;){var i=a.shift();if(i.parent){if(!i.context.parent||i.context.parent.listMapping!=i.listMapping)for(var n in i.listMapping){var o=i.listMapping[n];if(0==o.length)this.addTriple(i.parent,i.subject,n,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});else{for(var h=[],p=0;p<o.length;p++)h.push(this.newBlankNode());for(p=0;p<h.length;p++)this.addTriple(i.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",o[p]),this.addTriple(i.parent,h[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:p+1<h.length?h[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(i.parent,i.subject,n,{type:e.objectURI,value:h[0]})}}}else{var h=i.current,i=i.context,u=!1,c=null,l=null,g=null,f=i.prefixes,o=!1,d=[],b=i.listMapping,w=i.parent?!1:!0,m=i.language,v=i.vocabulary,y=this.parseURI(s(h.baseURI));for(h.item=null,(p=h.getAttributeNode("vocab"))&&(p=e.trim(p.value),0<p.length?(v=p,this.addTriple(h,y.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:v})):v=this.vocabulary),p=0;p<h.attributes.length;p++){var R=h.attributes[p];if("x"==R.nodeName.charAt(0)&&0==R.nodeName.indexOf("xmlns:")){o||(f=this.copyMappings(f),o=!0);var j=R.nodeName.substring(6),R=e.trim(R.value);f[j]=this.target.baseURI?this.target.baseURI.resolve(R):R}}for((p=h.getAttributeNode("prefix"))&&(o||(f=this.copyMappings(f),o=!0),this.parsePrefixMappings(p.value,f)),o=null,p=0;!o&&p<this.langAttributes.length;p++)o=h.getAttributeNodeNS(this.langAttributes[p].namespaceURI,this.langAttributes[p].localName);o&&(p=e.trim(o.value),m=0<p.length?p:null);var j=h.getAttributeNode("rel"),R=h.getAttributeNode("rev"),x=h.getAttributeNode("typeof"),I=h.getAttributeNode("property"),_=h.getAttributeNode("datatype"),U=this.inHTMLMode?h.getAttributeNode("datetime"):null,E=h.getAttributeNode("content"),F=h.getAttributeNode("about"),A=h.getAttributeNode("src"),N=h.getAttributeNode("resource"),C=h.getAttributeNode("href"),M=h.getAttributeNode("inlist"),T=[];if(j)for(var O=this.tokenize(j.value),p=0;p<O.length;p++)(n=this.parsePredicate(O[p],v,i.terms,f,y,this.inHTMLMode&&null!=I))&&T.push(n);var P=[];if(R)for(O=this.tokenize(R.value),p=0;p<O.length;p++)(n=this.parsePredicate(O[p],v,i.terms,f,y,this.inHTMLMode&&null!=I))&&P.push(n);if(!this.inHTMLMode||null==j&&null==R||null==I||(0==T.length&&(j=null),0==P.length&&(R=null)),j||R?(F&&(c=this.parseSafeCURIEOrCURIEOrURI(F.value,f,y)),x&&(g=c),c||(h.parentNode.nodeType==Node.DOCUMENT_NODE?c=s(h.baseURI):i.parentObject&&(c=s(h.parentNode.baseURI)==i.parentObject?s(h.baseURI):i.parentObject)),N&&(l=this.parseSafeCURIEOrCURIEOrURI(N.value,f,y)),l||(C?l=this.resolveAndNormalize(y,encodeURI(C.value)):A?l=this.resolveAndNormalize(y,encodeURI(A.value)):!x||F||this.inXHTMLMode&&("head"==h.localName||"body"==h.localName)||(l=this.newBlankNode())),!x||F||!this.inXHTMLMode||"head"!=h.localName&&"body"!=h.localName?x&&!F&&(g=l):g=c):!I||E||_?(F&&(c=this.parseSafeCURIEOrCURIEOrURI(F.value,f,y)),!c&&N&&(c=this.parseSafeCURIEOrCURIEOrURI(N.value,f,y)),!c&&C&&(c=this.resolveAndNormalize(y,encodeURI(C.value))),!c&&A&&(c=this.resolveAndNormalize(y,encodeURI(A.value))),c||(h.parentNode.nodeType==Node.DOCUMENT_NODE?c=s(h.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=h.localName&&"body"!=h.localName?x?c=this.newBlankNode():i.parentObject&&(c=s(h.parentNode.baseURI)==i.parentObject?s(h.baseURI):i.parentObject,I||(u=!0)):c=s(h.parentNode.baseURI)==i.parentObject?s(h.baseURI):i.parentObject),x&&(g=c)):(F&&(c=this.parseSafeCURIEOrCURIEOrURI(F.value,f,y),x&&(g=c)),c||h.parentNode.nodeType!=Node.DOCUMENT_NODE?!c&&i.parentObject&&(c=s(h.parentNode.baseURI)==i.parentObject?s(h.baseURI):i.parentObject):(c=s(h.baseURI),x&&(g=c)),x&&!g&&(N&&(g=this.parseSafeCURIEOrCURIEOrURI(N.value,f,y)),!g&&C&&(g=this.resolveAndNormalize(y,encodeURI(C.value))),!g&&A&&(g=this.resolveAndNormalize(y,encodeURI(A.value))),g||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=h.localName&&"body"!=h.localName||(g=c),g||(g=this.newBlankNode()),l=g)),c&&(F||N||g)&&(p=c,x&&!F&&!N&&l&&(p=l),this.newSubjectOrigin(h,p)),g)for(O=this.tokenize(x.value),p=0;p<O.length;p++)(o=this.parseTermOrCURIEOrAbsURI(O[p],v,i.terms,f,y))&&this.addTriple(h,g,e.typeURI,{type:e.objectURI,value:o});if(c&&c!=i.parentObject&&(b={},w=!0),l){if(j&&M)for(p=0;p<T.length;p++)o=b[T[p]],o||(o=[],b[T[p]]=o),o.push({type:e.objectURI,value:l});else if(j)for(p=0;p<T.length;p++)this.addTriple(h,c,T[p],{type:e.objectURI,value:l});if(R)for(p=0;p<P.length;p++)this.addTriple(h,l,P[p],{type:e.objectURI,value:c})}else{if(c&&!l&&(j||R)&&(l=this.newBlankNode()),j&&M)for(p=0;p<T.length;p++)o=b[T[p]],o||(o=[],b[n]=o),d.push({predicate:T[p],list:o});else if(j)for(p=0;p<T.length;p++)d.push({predicate:T[p],forward:!0});if(R)for(p=0;p<P.length;p++)d.push({predicate:P[p],forward:!1})}if(I)for(P=T=null,_?(T=""==_.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(_.value,v,i.terms,f,y),P=U&&!E?U.value:T==e.XMLLiteralURI||T==e.HTMLLiteralURI?null:E?E.value:h.textContent):E?(T=e.PlainLiteralURI,P=E.value):U?(P=U.value,T=e.deriveDateTimeType(P),T||(T=e.PlainLiteralURI)):!j&&!R&&(N&&(P=this.parseSafeCURIEOrCURIEOrURI(N.value,f,y)),!P&&C?P=this.resolveAndNormalize(y,encodeURI(C.value)):!P&&A&&(P=this.resolveAndNormalize(y,encodeURI(A.value))),P&&(T=e.objectURI)),T||(x&&!F?(T=e.objectURI,P=g):(P=h.textContent,this.inHTMLMode&&"time"==h.localName&&(T=e.deriveDateTimeType(P)),T||(T=e.PlainLiteralURI))),O=this.tokenize(I.value),p=0;p<O.length;p++)(n=this.parsePredicate(O[p],v,i.terms,f,y))&&(M?(o=b[n],o||(o=[],b[n]=o),o.push(T==e.XMLLiteralURI||T==e.HTMLLiteralURI?{type:T,value:h.childNodes}:{type:T?T:e.PlainLiteralURI,value:P,language:m})):T==e.XMLLiteralURI||T==e.HTMLLiteralURI?this.addTriple(h,c,n,{type:T,value:h.childNodes}):this.addTriple(h,c,n,{type:T?T:e.PlainLiteralURI,value:P,language:m}));if(c&&!u)for(p=0;p<i.incomplete.length;p++)i.incomplete[p].list?i.incomplete[p].list.push({type:e.objectURI,value:c}):i.incomplete[p].forward?this.addTriple(h,i.subject,i.incomplete[p].predicate,{type:e.objectURI,value:c}):this.addTriple(h,c,i.incomplete[p].predicate,{type:e.objectURI,value:i.subject});for(g=null,y=c,u?(g=this.push(i,i.subject),g.parentObject=s(h.parentNode.baseURI)==i.parentObject?s(h.baseURI):i.parentObject,g.incomplete=i.incomplete,g.language=m,g.prefixes=f):(g=this.push(i,c),g.parentObject=l?l:c?c:i.subject,g.prefixes=f,g.incomplete=d,l&&(y=l,b={},w=!0),g.listMapping=b,g.language=m),g.vocabulary=v,w&&a.unshift({parent:h,context:i,subject:y,listMapping:b}),h=h.lastChild;h;h=h.previousSibling)h.nodeType==Node.ELEMENT_NODE&&a.unshift({current:h,context:g})}}for(this.inHTMLMode&&this.copyProperties(),p=0;p<this.finishedHandlers.length;p++)this.finishedHandlers[p](t)},e.prototype.copyProperties=function(){},e.prototype.push=function(t,e){return{parent:t,subject:e?e:t?t.subject:null,parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}},r.prototype.expand=function(t){return this.curieParser.parse(t,!0)},r.prototype.shorten=function(t,e){for(prefix in this.prefixes){var r=this.prefixes[prefix];if(0==t.indexOf(r))return e&&(e[prefix]=r),prefix+":"+t.substring(r.length)}return null},a.prototype.toString=function(t){var e=null;"_:"==this.subject.substring(0,2)?e=this.subject:t&&t.shorten?(e=this.graph.shorten(this.subject,t.prefixesUsed))||(e="<"+this.subject+">"):e="<"+this.subject+">";var r,a=!0;for(r in this.predicates)a?a=!1:e+=";\n",e+=" "+this.predicates[r].toString(t);return e+" ."},a.prototype.toObject=function(){var t,r={subject:this.subject,predicates:{}};for(t in this.predicates){var a=this.predicates[t],s={predicate:t,objects:[]};r.predicates[t]=s;for(var i=0;i<a.objects.length;i++){var n=a.objects[i];if(n.type==e.XMLLiteralURI){for(var o=new XMLSerializer,h="",p=0;p<n.value.length;p++)n.value[p].nodeType==Node.ELEMENT_NODE?h+=o.serializeToString(n.value[p]):n.value[p].nodeType==Node.TEXT_NODE&&(h+=n.value[p].nodeValue);s.objects.push({type:n.type,value:h,language:n.language})}else s.objects.push({type:n.type,value:n.value,language:n.language})}}return r},a.prototype.getValues=function(){for(var t=[],e=0;e<arguments.length;e++){var r=this.graph.curieParser.parse(arguments[e],!0);if(r=this.predicates[r])for(var a=0;a<r.objects.length;a++)t.push(r.objects[a].value)}return t},i.getPrefixMap=function(t){for(var e={};t.attributes;){for(var r=0;r<t.attributes.length;r++)if("http://www.w3.org/2000/xmlns/"==t.attributes[r].namespaceURI){var a=t.attributes[r].localName;"xmlns"==t.attributes[r].localName&&(a=""),a in e||(e[a]=t.attributes[r].nodeValue)}t=t.parentNode}return e},i.prototype.toString=function(t){var e=null;t&&t.shorten&&t.graph?(e=t.graph.shorten(this.predicate,t.prefixesUsed))||(e="<"+this.predicate+">"):e="<"+this.predicate+">";for(var e=e+" ",r=0;r<this.objects.length;r++)if(r>0&&(e+=", "),"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"==this.objects[r].type)"_:"==this.objects[r].value.substring(0,2)?e+=this.objects[r].value:t&&t.shorten&&t.graph?(e=t.graph.shorten(this.objects[r].value,t.prefixesUsed))||(e="<"+this.objects[r].value+">"):e+="<"+this.objects[r].value+">";else if("http://www.w3.org/2001/XMLSchema#integer"==this.objects[r].type||"http://www.w3.org/2001/XMLSchema#decimal"==this.objects[r].type||"http://www.w3.org/2001/XMLSchema#double"==this.objects[r].type||"http://www.w3.org/2001/XMLSchema#boolean"==this.objects[r].type)e+=this.objects[r].value;else if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"==this.objects[r].type){for(var a=new XMLSerializer,s="",n=0;n<this.objects[r].value.length;n++)if(this.objects[r].value[n].nodeType==Node.ELEMENT_NODE){var o,h=i.getPrefixMap(this.objects[r].value[n]),p=[];for(o in h)p.push(o);p.sort();for(var u=this.objects[r].value[n].cloneNode(!0),c=0;c<p.length;c++)u.setAttributeNS("http://www.w3.org/2000/xmlns/",0==p[c].length?"xmlns":"xmlns:"+p[c],h[p[c]]);s+=a.serializeToString(u)}else this.objects[r].value[n].nodeType==Node.TEXT_NODE&&(s+=this.objects[r].value[n].nodeValue);e+='"""'+s.replace(/"""/,'\\"\\"\\"')+'"""^^<http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral>'}else a=this.objects[r].value,e=0<=a.indexOf("\n")||0<=a.indexOf("\r")?e+('"""'+a.replace(/"""/,'\\"\\"\\"')+'"""'):e+('"'+a.replace(/"/,'\\"')+'"'),"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"!=this.objects[r].type?e+="^^<"+this.objects[r].type+">":this.objects[r].language&&(e+="@"+this.objects[r].language);
return e},n.prototype=new e,n.prototype.constructor=e,n.prototype.getObjectSize=function(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r},n.prototype.init=function(){var t=this;this.finishedHandlers.push(function(){for(var e in t.target.graph.subjects)0==t.getObjectSize(t.target.graph.subjects[e].predicates)&&delete t.target.graph.subjects[e]})},n.prototype.newSubjectOrigin=function(t,e){for(var r=this.newSubject(null,e),a=0;a<r.origins.length;a++)if(r.origins[a]===t)return;r.origins.push(t),t.data||Object.defineProperty(t,"data",{value:r,writable:!1,configurable:!0,enumerable:!0})},n.prototype.newSubject=function(t,e){var r=this.target.graph.subjects[e];return r||(r=new a(this.target.graph,e),this.target.graph.subjects[e]=r),r},n.prototype.addTriple=function(t,r,a,s){var n=this.newSubject(t,r),r=n.predicates[a];r||(r=new i(a),n.predicates[a]=r);for(var o=0;o<r.objects.length;o++)if(r.objects[o].type==s.type&&r.objects[o].value==s.value)return void(r.objects[o].origin!==t&&(Array.isArray(r.objects[o].origin)||(a=[],a.push(r.objects[o].origin),r.objects[o].origin=a),r.objects[o].origin.push(t)));r.objects.push(s),s.origin=t,a==e.typeURI&&n.types.push(s.value)},n.rdfaCopyPredicate="http://www.w3.org/ns/rdfa#copy",n.rdfaPatternType="http://www.w3.org/ns/rdfa#Pattern",n.prototype.copyProperties=function(){var t,r=[],a={};for(t in this.target.graph.subjects){var s=this.target.graph.subjects[t],o=s.predicates[n.rdfaCopyPredicate];if(o){r.push(t);for(var h=0;h<o.objects.length;h++)if(o.objects[h].type==e.objectURI){var p=o.objects[h].value,u=this.target.graph.subjects[p];if(u){var c=u.predicates[e.typeURI];if(c){for(var l=!1,g=0;g<c.objects.length&&!l;g++)c.objects[g].value==n.rdfaPatternType&&c.objects[g].type==e.objectURI&&(l=!0);if(l){a[p]=!0;for(var f in u.predicates)if(p=u.predicates[f],f==e.typeURI){if(1!=p.objects.length)for(g=0;g<p.objects.length;g++)p.objects[g].value!=n.rdfaPatternType&&(c=s.predicates[f],c||(c=new i(f),s.predicates[f]=c),c.objects.push({type:p.objects[g].type,value:p.objects[g].value,language:p.objects[g].language,origin:p.objects[g].origin}),s.types.push(p.objects[g].value))}else for(c=s.predicates[f],c||(c=new i(f),s.predicates[f]=c),g=0;g<p.objects.length;g++)c.objects.push({type:p.objects[g].type,value:p.objects[g].value,language:p.objects[g].language,origin:p.objects[g].origin})}}}}}}for(h=0;h<r.length;h++)s=this.target.graph.subjects[r[h]],delete s.predicates[n.rdfaCopyPredicate];for(t in a)delete this.target.graph.subjects[t]},h.prototype.getProperties=function(){var t,e=[];for(t in this._data_.properties)e.push(t);return e},h.prototype.getSubject=function(){return this._data_.subject},h.prototype.get=function(t){return t=this._data_.owner._data_.graph.curieParser.parse(t,!0),(t=this._data_.properties[t])?t[0]:null},h.prototype.getAll=function(t){return t=this._data_.owner._data_.graph.curieParser.parse(t,!0),this._data_.properties[t]},p.prototype=new t,p.prototype.constructor=p,p.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",p.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",p.NCNAME=RegExp("^"+e.nameStartChar+e.nameChar+"*$"),p.toProjection=function(t,e,r){var a,s=new h(t,e.subject);for(a in e.predicates){var i=e.predicates[a],n=[];s._data_.properties[a]=n;for(var o=0;o<i.objects.length;o++)n.push(i.objects[o].value)}if(r)for(var p in r)a=r[p],a=t._data_.graph.curieParser.parse(a,!0),(n=s._data_.properties[a])&&(s[p]=1==n.length?n[0]:n);return s},p.prototype.getProperties=function(t){var e=[];if(t){if(t=this._data_.graph.curieParser.parse(t,!0),s=this._data_.graph.subjects[t])for(var r in s.predicates)e.push(r)}else{var a,t={};for(a in this._data_.graph.subjects){var s=this._data_.graph.subjects[a];if(s)for(r in s.predicates)t[r]||(t[r]=!0,e.push(r))}}return e},p.prototype.getSubjects=function(t,e){var r=[];if(t&&(t=this._data_.graph.curieParser.parse(t,!0)),t&&e){var a,s=this._data_.graph.curieParser.parse(e,!0);for(a in this._data_.graph.subjects){var i=this._data_.graph.subjects[a];if(i=i.predicates[t])for(var n=0;n<i.objects.length;n++)if(i.objects[n].value==e||i.objects[n].value==s){r.push(a);break}}}else if(t)for(a in this._data_.graph.subjects)i=this._data_.graph.subjects[a],(i=i.predicates[t])&&r.push(a);else if(e)for(a in s=this._data_.graph.curieParser.parse(e,!0),this._data_.graph.subjects){var o,i=this._data_.graph.subjects[a];for(o in i.predicates)if(i=a.predicates[o]){for(var h=null,n=0;!h&&n<i.objects.length;n++)(i.objects[n].value==e||node.objects[n].value==s)&&(h=i.objects[n]);if(h){r.push(a);break}}}else for(a in this._data_.graph.subjects)r.push(a);return r},p.prototype.getValueOrigins=function(t,e){var r=[],a=function(t){if(t)for(var e=0;e<t.objects.length;e++)if(Array.isArray(t.objects[e].origin))for(var a=0;a<t.objects[e].origin.length;a++)r.push({origin:t.objects[e].origin[a],value:t.objects[e].value});else r.push({origin:t.objects[e].origin,value:t.objects[e].value})};if(e&&(e=this._data_.graph.curieParser.parse(e,!0)),t){var t=this._data_.graph.curieParser.parse(t,!0),s=this._data_.graph.subjects[t];if(s)if(e)a(s.predicates[e]);else for(var i in s.predicates)a(s.predicates[i])}else if(e)for(var n in this._data_.graph.subjects)s=this._data_.graph.subjects[n],a(s.predicates[e]);else for(n in this._data_.graph.subjects)for(i in s=this._data_.graph.subjects[n],s.predicates)a(s.predicates[i]);return r},p.prototype.getValues=function(t,e){var r=[];if(e&&(e=this._data_.graph.curieParser.parse(e,!0)),t){var t=this._data_.graph.curieParser.parse(t,!0),a=this._data_.graph.subjects[t];if(a)if(e){var s=a.predicates[e];if(s)for(var i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else for(var n in a.predicates)for(s=a.predicates[n],i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else if(e){for(var o in this._data_.graph.subjects)if(a=this._data_.graph.subjects[o],s=a.predicates[e])for(i=0;i<s.objects.length;i++)r.push(s.objects[i].value)}else for(o in this._data_.graph.subjects)for(n in a=this._data_.graph.subjects[o],a.predicates)for(s=a.predicates[n],i=0;i<s.objects.length;i++)r.push(s.objects[i].value);return r},Object.defineProperty(p.prototype,"prefixes",{enumerable:!0,get:function(){return Object.keys(this._data_.graph.prefixes)}}),p.prototype.setMapping=function(t,e){this._data_.graph.prefixes[t]=e},p.prototype.getMapping=function(t){return this._data_.graph.prefixes[t]},p.prototype.expand=function(t){return this._data_.graph.expand(t)},p.prototype.shorten=function(t){return this._data_.graph.shorten(t)},p.prototype.getSubject=function(t){return t?(t=this._data_.graph.curieParser.parse(t,!0),(t=this._data_.graph.subjects[t])?t:null):null},p.prototype.getProjection=function(t,e){if(!t)return null;var t=this._data_.graph.curieParser.parse(t,!0),r=this._data_.graph.subjects[t];return r?p.toProjection(this,r,e):null},p.prototype.getProjections=function(t,e,r){t&&(t=this._data_.graph.curieParser.parse(t,!0));var a=[];if("undefined"==typeof e&&"undefined"==typeof r&&(r=t),t&&e){var s,i=this._data_.graph.curieParser.parse(e,!0);for(s in this._data_.graph.subjects){var n=this._data_.graph.subjects[s],o=n.predicates[t];if(o)for(var h=0;h<o.objects.length;h++)if(o.objects[h].value==e||o.objects[h].value==i){a.push(p.toProjection(this,n,r));break}}}else if(t)for(s in this._data_.graph.subjects)n=this._data_.graph.subjects[s],n.predicates[t]&&a.push(p.toProjection(this,n,r));else for(s in this._data_.graph.subjects)n=this._data_.graph.subjects[s],a.push(p.toProjection(this,n,r));return a},p.prototype.merge=function(t,r){var a=r&&r.mergeBlankNodes?!0:!1,s=0;if(!a)for(var i in this._data_.graph.subjects){var n=/_:([0-9]+)/.exec(i);n&&(n=parseInt(n[1]),n>s&&(s=n))}if(t){var o={},a=a?function(t){return t}:function(t){var e=o[t];return!e&&/_:([0-9]+)/.test(t)&&(s++,e="_:"+s,o[t]=e),e?e:t};for(i in t){var h=a(i),n=t[i];if(i=h?h:i,h=this._data_.graph.subjects[i])for(var p in n.predicates){var u=n.predicates[p],c=h.predicates[p];if(c)for(var l=0;l<u.objects.length;l++){for(var g=u.objects[l],f=[],d=0;d<c.objects.length;d++)g.type!=e.XMLLiteralURI||c.objects[d].type==g.type&&c.objects[d].value===g.value?(c.objects[d].type!=g.type||c.objects[d].value==g.value)&&f.push(g):f.push(g);for(d=0;d<f.length;d++)f[d].type==e.objectURI&&(f[d].value=a(f[d].value)),c.objects.push(f[d])}else for(h.predicates[p]=u,l=0;l<u.objects.length;l++)u.objects[l].type==e.objectURI&&(u.objects[l].value=a(u.objects[l].value))}else for(p in this._data_.graph.subjects[i]=n,n.subject=i,n.predicates)for(u=n.predicates[p],l=0;l<u.objects.length;l++)u.objects[l].type==e.objectURI&&(u.objects[l].value=a(u.objects[l].value))}}if(r&&r.prefixes)for(var b in r.prefixes)this._data_.graph.prefixes[b]||(this._data_.graph.prefixes[b]=r.prefixes[b])},Element.prototype.getElementsByType=function(){var t=arguments,e=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){if(!e.data)return NodeFilter.FILTER_SKIP;for(var r=0;r<t.length;r++)if(0<=e.data.types.indexOf(t[r]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1),r=[];for(r.item=function(t){return this[t]};e.nextNode();)r.push(e.currentNode);return r},Element.prototype.getFirstElementByType=function(){var t=arguments,e=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){if(!e.data)return NodeFilter.FILTER_SKIP;for(var r=0;r<t.length;r++)if(0<=e.data.types.indexOf(t[r]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1);return e.nextNode()?e.currentNode:null},p.attach=function(t,e){Object.defineProperty(t,"data",{value:new p(e&&e.baseURI?e.baseURI:t.nodeType==Node.DOCUMENT_NODE?t.documentElement.baseURI:t.graph.baseURI),writable:!1,configurable:!1,enumerable:!0}),t.getElementsByType=function(t){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",t)},t.getElementsBySubject=function(t){var e=[];if(e.item=function(t){return this[t]},t=this.data._data_.graph.curieParser.parse(t,!0),t=this.data._data_.graph.subjects[t])for(var r=0;r<t.origins.length;r++)e.push(t.origins[r]);return e},t.getElementsByProperty=function(t,e){var r=[];r.item=function(t){return this[t]},e&&(e=this.data._data_.graph.curieParser.parse(e,!1));var a,s="undefined"==typeof e,t=this.data._data_.graph.curieParser.parse(t,!0);for(a in this.data._data_.graph.subjects){var i=this.data._data_.graph.subjects[a].predicates[t];if(i)for(var n=0;n<i.objects.length;n++)(s||i.objects[n].value==e)&&(Array.isArray(i.objects[n].origin)?r.push.apply(r,i.objects[n].origin):r.push(i.objects[n].origin))}return r},t.getElementSubject=function(t){for(var e in this.data._data_.graph.subjects)if(0<=this.data._data_.graph.subjects[e].origins.indexOf(t))return e;return null}},u.prototype=new t,u.prototype.constructor=u,u.commentRE=/^#.*/,u.wsRE=/^\s+/,u.iriRE=/^\<((?:(?:[^\x00-\x20<>"{}|^`\\]|\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]|\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])*))\>/,u.singleQuoteLiteralRE=/^'((?:[^'\n\r\\]*|\\'|\\)*)'/,u.doubleQuoteLiteralRE=/^\"((?:[^"\n\r\\]*|\\"|\\)*)\"/,u.longDoubleQuoteLiteralRE=/^\"\"\"((?:[^"\\]*|\\"|\\|\"(?!\")|\"\"(?!\"))*)\"\"\"/,u.longSingleQuoteLiteralRE=/^'''((?:[^'\\]*|\\'|\\|'(?!')|''(?!'))*)'''/,u.typeRE=/^\^\^/,u.dotRE=/^\./,u.openSquareBracketRE=/^\[/,u.closeSquareBracketRE=/^\]/,u.prefixRE=/^((?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\.\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040]))?)?):/,u.blankNodeRE=/^(_:)/,u.localNameRE=/^((?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_:]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=\/?#@%])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\.:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=/?#@%])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=/?#@%]))?)/,u.langRE=/^@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)/,u.prefixIDRE=/^@prefix/,u.baseRE=/^@base/,u.sparqlPrefixRE=/^[Pp][Rr][Ee][Ff][Ii][Xx]/,u.sparqlBaseRE=/^[Bb][Aa][Ss][Ee]/,u.semicolonRE=/^;/,u.commaRE=/^,/,u.aRE=/^a/,u.openParenRE=/^\(/,u.closeParenRE=/^\)/,u.integerRE=/^([+-]?[0-9]+)/,u.decimalRE=/^([+-]?[0-9]*\.[0-9]+)/,u.doubleRE=/^([+-]?(?:[0-9]+\.[0-9]*[eE][+-]?[0-9]+|\.[0-9]+[eE][+-]?[0-9]+|[0-9]+[eE][+-]?[0-9]+))/,u.booleanRE=/^(true|false)/,u.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",u.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",u.plainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",u.nilURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",u.firstURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u.restURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",u.xsdStringURI="http://www.w3.org/2001/XMLSchema#string",u.xsdIntegerURI="http://www.w3.org/2001/XMLSchema#integer",u.xsdDecimalURI="http://www.w3.org/2001/XMLSchema#decimal",u.xsdDoubleURI="http://www.w3.org/2001/XMLSchema#double",u.xsdBooleanURI="http://www.w3.org/2001/XMLSchema#boolean",u.prototype.reset=function(){this.context=new r,this.errorCount=this.blankNodeCounter=0,this.lineNumber=1},u.dumpGraph=function(t){for(var e in t)console.log(t[e].toString())},u.prototype.newBlankNode=function(){return this.blankNodeCounter++,"_:"+this.blankNodeCounter},u.prototype._match=function(t,e){var r=t.exec(e);return r?{text:r[0],remaining:e.substring(r[0].length),values:1<r.length?r.splice(1):null}:null},u.prototype._trim=function(t){var e=null;do(e=u.wsRE.exec(t))&&(this.lineNumber+=e[0].split(/\n/).length-1,t=t.substring(e[0].length)),(e=u.commentRE.exec(t))&&(t=t.substring(e[0].length));while(e);return t},u.prototype.reportError=function(t){this.onError(this.lineNumber,t)},u.prototype.parse=function(t,e){for(e&&(this.context.baseURI=this.parseURI(e));0<t.length;)t=this._trim(t),0<t.length&&(t=this.parseStatement(t))},u.prototype.parseStatement=function(t){var e=this._match(u.prefixIDRE,t);if(e){var r=this._trim(e.remaining),e=this.parsePrefixName(r);if(!e)return this.reportError("Cannot parse prefix after @prefix: "+t.substring(20)+"..."),this.errorCount++,r;if(t=e.prefix,r=this._trim(e.remaining),e=this.parseIRIReference(r),!e)return this.reportError("Cannot parse IRI after @prefix: "+r.substring(20)+"..."),this.errorCount++,r;this.context.prefixes[t]=this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri;try{this.parseURI(this.context.prefixes[t])}catch(a){this.reportError(a.toString()),this.errorCount++}return r=this._trim(e.remaining),(e=this._match(u.dotRE,r))?e.remaining:(this.reportError("Missing end . for @prefix statement.  Found: "+r.substring(0,20)+"..."),this.errorCount++,r)}if(e=this._match(u.baseRE,t)){if(r=this._trim(e.remaining),e=this.parseIRIReference(r),!e)return this.reportError("Cannot parse IRI after @base: "+r.substring(0,20)+"..."),this.errorCount++,r;try{this.context.baseURI=this.parseURI(this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri)}catch(s){this.reportError(s+"; IRI: "+e.iri),this.errorCount++}return r=this._trim(e.remaining),(e=this._match(u.dotRE,r))?e.remaining:(this.reportError("Missing end . for @base statement.  Found: "+r.substring(0,20)+"..."),this.errorCount++,r)}if(e=this._match(u.sparqlPrefixRE,t)){if(r=this._trim(e.remaining),e=this.parsePrefixName(r),!e)return this.reportError("Cannot parse prefix after PREFIX: "+t.substring(0,20)+"..."),this.errorCount++,r;if(t=e.prefix,r=this._trim(e.remaining),e=this.parseIRIReference(r),!e)return this.reportError("Cannot parse IRI after PREFIX: "+r.substring(0,20)+"..."),this.errorCount++,r;this.context.prefixes[t]=this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri;try{this.parseURI(this.context.prefixes[t])}catch(i){this.reportError(i.toString()),this.errorCount++}return e.remaining}if(e=this._match(u.sparqlBaseRE,t)){if(r=this._trim(e.remaining),e=this.parseIRIReference(r),!e)return this.reportError("Cannot parse IRI after BASE: "+r.substring(0,20)+"..."),this.errorCount++,r;try{this.context.baseURI=this.parseURI(this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri)}catch(n){this.reportError(n+"; IRI: "+e.iri),this.errorCount++}return e.remaining}return t=this.parseTriples(t),t=this._trim(t),(e=this._match(u.dotRE,t))?e.remaining:(this.reportError("Missing end . triples.  Found: "+t.substring(0,20)+"..."),this.errorCount++,t)},u.prototype.parseTriples=function(t){var e=this.parseIRI(t);if(e||(e=this.parseBlankNode(t)))return this.parsePredicateObjectList(e.iri,this._trim(e.remaining));if(e=this._match(u.openParenRE,t)){var t=null,r=e.remaining,a=null;do{if(r=this._trim(r),e=this._match(u.closeParenRE,r)){r=e.remaining,a?this.addTriple(a,u.restURI,{type:u.objectURI,value:u.nilURI}):t=this.newBlankNode();break}e=this.newBlankNode(),a?this.addTriple(a,u.restURI,{type:u.objectURI,value:e}):t=e,a=e,r=this.parseObject(a,u.firstURI,r)}while(0<r.length);return this.parsePredicateObjectList(t,this._trim(r))}return(e=this._match(u.openSquareBracketRE,t))?(t=this.newBlankNode(),r=this._trim(e.remaining),(e=this._match(u.closeSquareBracketRE,r))?r=e.remaining:(r=this.parsePredicateObjectList(t,r),(e=this._match(u.closeSquareBracketRE,this._trim(r)))?r=e.remaining:this.reportError("Missing end square bracket ']'.")),this.parsePredicateObjectList(t,this._trim(r),!0)):e?this.parsePredicateObjectList(e.iri,this._trim(e.remaining)):(this.reportError("Terminating: Cannot parse at "+t.substring(0,20)+" ..."),this.errorCount++,"")},u.prototype.parsePredicateObjectList=function(t,e,r){var a=!0,s=null;do{var i=this.parseIRI(e);if(!i&&(i=this._match(u.aRE,e))&&(i.iri=u.typeURI),!i)return r?e:(this.reportError("Terminating: Cannot parse predicate IRI."),this.errorCount++,"");if(s=this.parseObjectList(t,i.iri,this._trim(i.remaining)),i=this._match(u.semicolonRE,this._trim(s))){do e=this._trim(i.remaining),i=this._match(u.semicolonRE,e);while(i);r=!0}else a=!1}while(a);return s},u.prototype.parseObjectList=function(t,e,r){var a=!0,s=null;do{var s=this.parseObject(t,e,r),i=this._match(u.commaRE,this._trim(s));i?r=this._trim(i.remaining):a=!1}while(a);return s},u.prototype.parseObject=function(t,e,r){var a=this.parseIRI(r);if(a||(a=this.parseBlankNode(r)))return this.addTriple(t,e,{type:u.objectURI,value:a.iri}),a.remaining;if(a=this._match(u.openParenRE,r)){var s=t,i=e,n=a.remaining;do{if(n=this._trim(n),a=this._match(u.closeParenRE,n))return this.addTriple(s,s==t?e:u.restURI,{type:u.objectURI,value:u.nilURI}),a.remaining;a=this.newBlankNode(),s==t?this.addTriple(t,e,{type:u.objectURI,value:a}):this.addTriple(s,u.restURI,{type:u.objectURI,value:a}),s=a,i=u.firstURI,n=this.parseObject(s,i,n)}while(0<n.length)}return(a=this._match(u.openSquareBracketRE,r))?(r=this.newBlankNode(),this.addTriple(t,e,{type:u.objectURI,value:r}),n=this.parsePredicateObjectList(r,this._trim(a.remaining),!0),n=this._trim(n),(a=this._match(u.closeSquareBracketRE,n))?a.remaining:(this.reportError("Missing close square bracket ']' for blank node "+r+" predicate object list"),this.errorCount++,n)):(a=this.parseLiteral(r))?(this.addTriple(t,e,{type:a.type?a.type:u.plainLiteralURI,value:a.literal,language:a.language}),a.remaining):(this.reportError("Terminating: Cannot parse literal at "+r.substring(0,20)),this.errorCount++,"")},u.prototype.parsePrefixName=function(t){return(t=this._match(u.prefixRE,t))&&(t.prefix=t.values[0]),t},u.prototype.parseIRIReference=function(t){return(t=this._match(u.iriRE,t))&&(t.iri=u.expandURI(t.values[0])),t},u.prototype.parseIRI=function(t){var e=this._match(u.iriRE,t);if(e){t=u.expandURI(e.values[0]),e.iri=this.context.baseURI?this.context.baseURI.resolve(t):t;try{this.parseURI(e.iri)}catch(r){this.reportError(r.toString()),this.errorCount++}return e}if(e=this._match(u.prefixRE,t)){var a=e.values[0],t=this.context.prefixes[a];if(!t)return this.reportError("No prefix mapping for "+a),this.errorCount++,null;if(a=e.remaining,e=this._match(u.localNameRE,a)){e.iri=t+u.expandName(e.values[0]);try{this.parseURI(e.iri)}catch(s){this.reportError(s.toString()),this.errorCount++}return e}return{iri:t,remaining:a}}return null},u.prototype.parseBlankNode=function(t){return(t=this._match(u.blankNodeRE,t))&&(t=this._match(u.localNameRE,t.remaining))?(t.iri="_:"+u.expandName(t.values[0]),t):null},u.prototype.parseLiteral=function(t){var e=this._match(u.longDoubleQuoteLiteralRE,t);if(e||(e=this._match(u.longSingleQuoteLiteralRE,t)),e||(e=this._match(u.singleQuoteLiteralRE,t)),e||(e=this._match(u.doubleQuoteLiteralRE,t)),e){t=null;try{t=u.expandLiteral(e.values[0])}catch(r){this.reportError(r.toString()),this.errorCount++}var a=e.remaining;if(e=this._match(u.langRE,a))return e.literal=t,e.language=e.values[0],e;if(e=this._match(u.typeRE,a)){if(a=e.remaining,e=this.parseIRI(a))return e.literal=t,e.type=e.iri,e;this.reportError("Missing type URI after ^^"),this.errorCount++}return{literal:t,remaining:a}}return(e=this._match(u.doubleRE,t))?(e.literal=e.values[0],e.type=u.xsdDoubleURI,e):(e=this._match(u.decimalRE,t))?(e.literal=e.values[0],e.type=u.xsdDecimalURI,e):(e=this._match(u.integerRE,t))?(e.literal=e.values[0],e.type=u.xsdIntegerURI,e):(e=this._match(u.booleanRE,t))?(e.literal=e.values[0],e.type=u.xsdBooleanURI,e):null},u.prototype.newSubject=function(t){var e=this.context.subjects[t];return e||(e=new a(this.context,t),this.context.subjects[t]=e),e},u.expandHex=function(t){for(var e=t.split(/[0-9A-Fa-f]+/),r=0;r<e.length;r++)if(0<e[r].length)throw"Bad hex in escape: "+t;if(e=parseInt(t,16),isNaN(e))throw"Bad hex in escape: "+t;return 65536>e?String.fromCharCode(e):(t=e-65536,e=1023&t,String.fromCharCode((t>>10)+55296)+String.fromCharCode(e+56320))},u.escapedSequenceRE=/(\\t|\\b|\\n|\\r|\\f|\\"|\\'|\\\\|(?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,u.expandLiteral=function(t){for(var t=t.split(u.escapedSequenceRE),e="",r=0;r<t.length;r++)if(0!=t[r].length)if("\\t"==t[r])e+="	";else if("\\b"==t[r])e+="\b";else if("\\n"==t[r])e+="\n";else if("\\r"==t[r])e+="\r";else if("\\f"==t[r])e+="\f";else if('\\"'==t[r])e+='"';else if("\\'"==t[r])e+="'";else if("\\\\"==t[r])e+="\\";else if(6==t[r].length&&"\\"==t[r].charAt(0)&&"u"==t[r].charAt(1))e+=u.expandHex(t[r].substring(2));else if(10==t[r].length&&"\\"==t[r].charAt(0)&&"U"==t[r].charAt(1))e+=u.expandHex(t[r].substring(2));else{var a=t[r].substring(0,2);if(2==a.length&&"\\U"==a)throw"Bad hex in \\U escape "+t[r].substring(0,10);if(2==a.length&&"\\u"==a)throw"Bad hex in \\u escape "+t[r].substring(0,6);if(a=t[r].indexOf("\\"),a>=0)throw"Bad escape "+t[r].substring(a,a+2);e+=t[r]}return e},u.escapedURIRE=/((?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,u.expandURI=function(t){for(var t=t.split(u.escapedURIRE),e="",r=0;r<t.length;r++)if(0!=t[r].length)if(6==t[r].length&&"\\"==t[r].charAt(0)&&"u"==t[r].charAt(1))e+=u.expandHex(t[r].substring(2));else if(10==t[r].length&&"\\"==t[r].charAt(0)&&"U"==t[r].charAt(1))e+=u.expandHex(t[r].substring(2));else{var a=t[r].substring(0,2);if(2==a.length&&"\\U"==a)throw"Bad hex in \\U escape "+t[r].substring(0,10);if(2==a.length&&"\\u"==a)throw"Bad hex in \\u escape "+t[r].substring(0,6);if(a=t[r].indexOf("\\"),a>=0)throw"Bad escape "+t[r].substring(a,a+2);e+=t[r]}return e},u.escapedNameCharRE=/(\\[_~\.\-!$&'()*+,;=/?#@%])/,u.expandName=function(t){for(var t=t.split(u.escapedNameCharRE),e="",r=0;r<t.length;r++)0!=t[r].length&&(e="\\"==t[r].charAt(0)?e+t[r].charAt(1):e+t[r]);return e},u.prototype.addTriple=function(t,e,r){var t=this.newSubject(t),a=t.predicates[e];a||(a=new i(e),t.predicates[e]=a),a.objects.push(r),e==u.typeURI&&t.types.push(r.value)},c.prototype=new t,c.prototype.constructor=c,c.absoluteURIRE=/[\w\_\-]+:\S+/,c.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},c.prototype.createBaseURI=function(t){var e=t.indexOf("#");return e>=0&&(t=t.substring(0,e)),this.parseURI(t)},c.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},c.tokenize=function(t){return c.trim(t).split(/\s+/)},c.prototype.getVocabulary=function(t){for(var e=0;e<this.vocabularies.length;e++)if(this.vocabularies[e].isMember(t))return this.vocabularies[e];var e=function(t){return{namespaceURI:t,getProperty:function(t){return this.namespaceURI+t}}},r=t.indexOf("#");return r>=0?e(t.substring(0,r+1)):(r=t.lastIndexOf("/"),e(r>=0?t.substring(0,r+1):t))},c.prototype.getProperty=function(t,e){return c.absoluteURIRE.exec(t)?t:e?e.getProperty(t):null},c.valueMappings={meta:function(t){return t.getAttribute("content")},audio:function(t,e){return e.resolve(t.getAttribute("src"))},a:function(t,e){return e.resolve(t.getAttribute("href"))},object:function(t,e){return e.resolve(t.getAttribute("data"))},time:function(t){var e=t.getAttribute("datetime");return e?e:t.textContent}},c.valueMappings.embed=c.valueMappings.audio,c.valueMappings.iframe=c.valueMappings.audio,c.valueMappings.img=c.valueMappings.audio,c.valueMappings.source=c.valueMappings.audio,c.valueMappings.track=c.valueMappings.audio,c.valueMappings.video=c.valueMappings.audio,c.valueMappings.area=c.valueMappings.a,c.valueMappings.link=c.valueMappings.a,c.prototype.getValue=function(t,e){var r=c.valueMappings[t.localName];return r?r(t,e):t.textContent},c.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",c.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",c.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c.prototype.process=function(t){t.nodeType==Node.DOCUMENT_NODE&&(t=t.documentElement);var e=[];for(e.push({current:t,context:this.push(null,null)});0<e.length;){var r=e.shift(),t=r.current,r=r.context,a=this.createBaseURI(t.baseURI),s=null,i=r.vocabulary,n=t.hasAttribute("itemscope");if(n){var o=t.getAttribute("itemtype"),h=t.getAttribute("itemid");o&&(i=this.getVocabulary(o),s=h?h:this.newBlankNode(),this.addTriple(t,s,c.typeURI,{type:c.objectURI,value:o}))}if(o=t.getAttribute("itemprop"))if(o=c.tokenize(o),n)r.parent.subject&&s&&this.addTriple(t,r.subject,p,{type:c.objectURI,value:s});else if(i&&(s||(s=r.subject),s))for(a=this.getValue(t,a),n=0;n<o.length;n++){var p=0<o[n].length?this.getProperty(o[n],i):null;p&&this.addTriple(t,s,p,{type:c.PlainLiteralURI,value:a})}for(t=t.lastChild;t;t=t.previousSibling)t.nodeType==Node.ELEMENT_NODE&&e.unshift({current:t,context:this.push(r,s,i)})}},c.prototype.push=function(t,e,r){return{parent:t,subject:e?e:t?t.subject:null,vocabulary:r?r:t?t.vocabulary:null}},c.prototype.addTriple=function(){},l.prototype=new c,l.prototype.constructor=c,l.prototype.addTriple=function(t,e,r,s){var n=this.graph.subjects[e];n||(n=new a(this.graph,e),this.graph.subjects[e]=n),e=n.predicates[r],e||(e=new i(r),n.predicates[r]=e);for(var o=0;o<e.objects.length;o++)if(e.objects[o].type==s.type&&e.objects[o].value==s.value)return void(e.objects[o].origin!==t&&(Array.isArray(e.objects[o].origin)||(r=[],r.push(e.objects[o].origin),e.objects[o].origin=r),e.objects[o].origin.push(t)));e.objects.push(s),s.origin=t,r==c.typeURI&&n.types.push(s.value)};var f={attach:function(t,e){var r=t.implementation.hasFeature;t.implementation.hasFeature=function(t,e){return"RDFaAPI"==t&&"1.1"==e?!0:r.apply(this,arguments)};var a=t.data?!0:!1;if(t.data)t.data._data_&&t.data._data_.graph.clear();else{p.attach(t,e);var s=function(t){return t.id||(t.id="R"+Date.now()),new CustomEvent("green-turtle-response",{detail:t})};window.addEventListener("green-turtle-request",function(e){if("status"==e.detail.type)e={type:"status",version:GreenTurtle.version,loaded:a,count:t.data.graph.tripleCount,id:e.detail.id},window.dispatchEvent(s(e));else if("get-subjects"==e.detail.type){var r=t.data.getSubjects(),e={type:"subjects",subjects:r,id:e.detail.id};window.dispatchEvent(s(e))}else if("get-subject"==e.detail.type){var i=null,n=e.detail.subject;if(t.data.getSubject)i=(r=t.data.getSubject(n))?r.toObject():null;else for(var i={subject:n,predicates:{}},o=t.data.getProjection(n),h=o.getProperties(),p=0;p<h.length;p++){var u=[];i.predicates[h[p]]={predicate:predicate,objects:u};for(var c=o.getAll(h[p]),l=0;l<c.length;l++)u.push(r[c[l]]?{type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:c[l]}:{type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:c[l]})}e={type:"subject",subject:n,triples:i,id:e.detail.id},window.dispatchEvent(s(e))}else console.log("Unrecognized message: "+JSON.stringify(e.detail))},!1)}var i=function(){var r=new n(t.data._data_);r.finishedHandlers.push(function(){for(var r in f.processors)f.processors[r].process(t,e)}),r.finishedHandlers.push(function(t){if(t.ownerDocument){var e=t.ownerDocument.createEvent("HTMLEvents");e.initEvent("rdfa.loaded",!0,!0),t.ownerDocument.dispatchEvent(e)}}),r.process(t.documentElement,e),a=!0};"loading"==t.readyState?window.addEventListener("load",function(){i()},!1):i()},parse:function(t,e,r){var a=this.processors[e];if(!a)throw"Unsupported media type "+e;if(a=a.createParser(),r&&r.errorHandler&&(a.onError=r.errorHandler),r=r?r.baseURI:null,a.parse(t,r),0<a.errorCount)throw r?"Errors during parsing "+r+" of type "+e:"Errors during parsing of type "+e;return a.context},createDocumentData:function(t){return new p(t?t:window?window.location.href:"about:blank")}};return Object.defineProperty(f,"processors",{value:{},writable:!1,configurable:!1,enumerable:!0}),f.processors["text/turtle"]={createParser:function(){return new u},process:function(t,e){if(this.enabled){var r=t.nodeType==Node.DOCUMENT_NODE?t:t.ownerDocument;if(r.data){for(var a=!0,s=r.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","script"),i=0;i<s.length;i++)if("text/turtle"==s[i].getAttribute("type")){var n=this.createParser();e&&e.errorHandler&&(n.onError=e.errorHandler),n.parse(s[i].textContent,e?e.baseURI:null),0<n.errorCount?a=!1:r.data.merge(n.context.subjects,{prefixes:n.context.prefixes})}return a}}},enabled:!0},f.processors.microdata={process:function(t){if(this.enabled){var e=t.nodeType==Node.DOCUMENT_NODE?t:t.ownerDocument;return e.data?(new l(e.data.graph).process(t),!0):!1}},enabled:!1},Object.defineProperty(g,"implementation",{value:f,writable:!1,configurable:!1,enumerable:!0}),g.attach=function(t,e){f.attach(t,e)
},g}();GreenTurtle.attach(document);