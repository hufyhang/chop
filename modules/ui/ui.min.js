$ch.define("ui",function(){"use strict";var e="http://feifeihang.info/chop/style.php?q=chopjs-ui-style",i=$$CHOP._loadView;$$CHOP._loadView=function(e){(void 0===e||null===e)&&(e=document);var s=e,t=$$CHOP.findAll("[ch-ui-button]",s);$$CHOP.each(t,function(e){e.button()}),t=$$CHOP.findAll("[ch-ui-video-background]",s),$$CHOP.each(t,function(e){e.videoBackground()}),t=$$CHOP.findAll("[ch-ui-select]",s),$$CHOP.each(t,function(e){e.selectbox()}),t=$$CHOP.findAll("[ch-ui-pager]",s),$$CHOP.each(t,function(e){e.pager()}),t=$$CHOP.findAll("[ch-ui-tabs]",s),$$CHOP.each(t,function(e){e.tabs()}),t=$$CHOP.findAll("[ch-ui-tile]",s),$$CHOP.each(t,function(e){e.tile()}),i(e)};var s=void 0!==$$CHOP.find(".chopjs-ui-style-css");if(!s){var t=document.createElement("style");t.className+=" chopjs-ui-style-css",t.innerHTML=$$CHOP.http({url:e,async:!1}).responseText,document.head.appendChild(t)}$$CHOPEL.hide=function(){return this.el.className+=" chopjs-ui-hide",this},$$CHOPEL.show=function(){return this.el.className=this.el.className.replace(/chopjs-ui-hide/g,""),this},$$CHOPEL.videoBackground=function(){return this.el.className+="chopjs-ui-video-background",this},$$CHOPEL.normal=function(){return this.el.className=this.el.className.replace(/chopjs-ui-color-\w+/g,""),this},$$CHOPEL.warning=function(){return this.el.className=this.el.className.replace(/chopjs-ui-color-\w+/g,""),this.el.className+=" chopjs-ui-color-warning",this},$$CHOPEL.danger=function(){return this.el.className=this.el.className.replace(/chopjs-ui-color-\w+/g,""),this.el.className+=" chopjs-ui-color-danger",this},$$CHOPEL.success=function(){return this.el.className=this.el.className.replace(/chopjs-ui-color-\w+/g,""),this.el.className+=" chopjs-ui-color-success",this},$$CHOPEL.information=function(){return this.el.className=this.el.className.replace(/chopjs-ui-color-\w+/g,""),this.el.className+=" chopjs-ui-color-information",this},$$CHOPEL.height=function(){return this.el.offsetHeight},$$CHOPEL.width=function(){return this.el.offsetWidth},$$CHOPEL.scrollTop=function(){var e=this.el,i=(window.pageYOffset||e.scrollTop)-(e.clientTop||0);return i},$$CHOPEL.full=function(){var e=this.el;return e.className+=" chopjs-ui-full",this},$$CHOPEL.fullHeight=function(){var e=this.el;return e.className+=" chopjs-ui-full-height",this},$$CHOPEL.fullWidth=function(){var e=this.el;return e.className+=" chopjs-ui-full-width",this},$$CHOPEL.disable=function(){return this.attr("disabled","disabled"),this.el.className+=" chopjs-ui-disable",this},$$CHOPEL.enable=function(){return this.removeAttr("disabled"),this.el.className=this.el.className.replace(/chopjs-ui-disable/g,""),this},$$CHOPEL.button=function(e){return this.el.className+=" chopjs-ui-button",void 0!==e&&this.on("click",e),this},$$CHOPEL.input=function(e){return this.el.className+=" chopjs-ui-input",void 0!==e&&this.on("keyup",e),this},$$CHOPEL.textarea=$$CHOPEL.input,$$CHOPEL.dropbox=function(e){var i=this.el;return this.el.className+=" chopjs-ui-select",null===i.getAttribute("multiple")&&(this.el.className+=" chopjs-ui-select-drop"),void 0!==e&&this.on("change",function(){e(i.value)}),this},$$CHOPEL.selectbox=$$CHOPEL.dropbox,$$CHOPEL.pager=function(e){return this.el.className+=" chopjs-ui-pager",void 0!==e&&this.on("click",e),this},$$CHOPEL.topbar=function(e,i){var s=this.el;"number"!=typeof e&&(i=e,e=1),s.className+=" chopjs-ui-topbar",s.style.zindex=e;var t=$ch.findAll("*",s);if($ch.each(t,function(e){var i=e.el.tagName.toUpperCase();("DIV"===i||"SPAN"===i)&&null!==e.el.getAttribute("ch-logo")&&(e.el.className+=" ch-topbar-img"),e.el.className+=" ch-topbar-element"}),void 0!==i){var c=this.height()+5+"px";i.css("margin-top",c)}return this},$$CHOPEL.tabs=function(){var e,i,s,t=this.el,c={},l=t.querySelectorAll("[ch-tab]");for(e=0,i=l.length;e!==i;++e){s=l[e];var a=s.getAttribute("ch-tab");null!==a&&void 0!==a&&(c[a]=s.innerHTML)}var o,n=[];n.push('<div class="chopjs-ui-tabs">');var h=Object.keys(c);for(e=0,i=h.length;e!==i;++e){var r=0===e?" chopjs-ui-active":"";0===e&&(o=c[h[e]]);var u="",$=l[e].getAttribute("ch-click");null!==$&&(u+='ch-click="'+$+'" '),n.push('<div class="chopjs-ui-tab '+r+'" ch-tab="'+h[e]+'" '+u+">"+h[e]+"</div>")}n.push("</div>");var p=['<div class="chopjs-ui-tabs-content">'];for(p.push(o),p.push("</div>"),t.innerHTML=n.join("")+p.join(""),l=t.querySelectorAll(".chopjs-ui-tab"),e=0,i=l.length;e!==i;++e)s=l[e],s.addEventListener("click",function(){var e=t.querySelectorAll(".chopjs-ui-tabs-content [ch-source]");$$CHOP.each(e,function(e){var i,s=e.getAttribute("ch-source");if(null!==s&&void 0!==s&&""!==s.trim())i=$$CHOP.sources[s].els.indexOf(e),-1!==i&&$$CHOP.sources[s].els.splice(i,1);else{var t=e.id,c=$$CHOP._inlineSource[t].match(/{{[^{]{1,}}}/g);null!==c&&$$CHOP.each(c,function(t){s=t.replace(/{/g,""),s=s.replace(/}/g,"").trim(),i=$$CHOP.sources[s].els.indexOf(e),-1!==i&&$$CHOP.sources[s].els.splice(i,1)})}});for(var i=0,s=l.length;i!==s;++i)l[i].className=l[i].className.replace(/chopjs-ui-active/g,"");this.className+=" chopjs-ui-active";var a=this.getAttribute("ch-tab"),o=t.querySelector(".chopjs-ui-tabs-content");o.innerHTML=c[a],$$CHOP._loadView(o)});return this},$$CHOPEL.resize=function(){this.el.className+=" chopjs-ui-resize"},$$CHOPEL.tile=function(){this.el.className+=" chopjs-ui-tile";var e=this.el.querySelector("[ch-ui-tile-header]");null!==e&&void 0!==e&&(e.className+=" chopjs-ui-tile-header");var i=this.el.querySelector("[ch-ui-tile-footer]");return null!==i&&void 0!==i&&(i.className+=" chopjs-ui-tile-footer"),this}});