$ch.define("utils",function(){"use strict";$$CHOP.utils={},$$CHOP.utils={sort:function(r,e,t){if(0===arguments.length)throw new Error("$ch.utils.sort requires at least one parameter.");if("boolean"==typeof e)t=e,e=void 0;else if("string"!=typeof e&&void 0!==e)throw new Error("$ch.utils.sort requires a string type parameter for sort-by.");if(void 0===t&&(t=!1),!$$CHOP._isArray(r))throw new Error("$ch.utils.sort can only sort array-type objects.");var n=r;return 0!==r.length&&(n="number"==typeof r[0]?n.sort(function(r,e){return r-e}):"object"==typeof r[0]?n.sort(function(r,t){return r[e]<t[e]?!1:!0}):n.sort(),t===!0&&n.reverse()),n},extend:function(r,e){if(2!==arguments.length)throw new Error("$ch.utils.extend requires two parameters");for(var t in e)e[t]&&e[t].constructor&&e[t].constructor===Object?(r[t]=r[t]||{},this.extend(r[t],e[t])):r[t]=e[t];return r},bind:function(r,e){var t=r;return t.bind(e)},first:function(r,e){if($$CHOP.isArray(r)===!1)throw new Error("$ch.utils.first requires an array-type parameter.");"number"!=typeof e&&(e=r.length);for(var t=[],n=0;n!==e;++n)t.push(r[n]);return t},last:function(r,e){if($$CHOP.isArray(r)===!1)throw new Error("$ch.utils.last requires an array-type parameter.");"number"!=typeof e&&(e=0);for(var t=[],n=r.length-e,i=r.length;n!==i;++n)t.push(r[n]);return t},map:function(r,e){if($$CHOP.isArray(r)===!1)throw new Error("$ch.utils.map requires an array-type parameter.");if("function"!=typeof e)throw new Error("$ch.utils.map requires a function-type callback parameter.");var t=[];return $$CHOP.each(r,function(r){var n=e(r);t.push(n)}),t},now:function(){return Date.parse(Date())},fromNow:function(r){var e=Math.floor((new Date-r)/1e3),t=Math.floor(e/31536e3);return t>1?t+" years":(t=Math.floor(e/2592e3),t>1?t+" months":(t=Math.floor(e/86400),t>1?t+" days":(t=Math.floor(e/3600),t>1?t+" hours":(t=Math.floor(e/60),t>1?t+" minutes":Math.floor(e)+" seconds"))))},random:function(r,e){if(2!==arguments.length)throw new Error("$ch.utils.random requires two parameters.");var t="string"==typeof r||"number"==typeof r,n="string"==typeof e||"number"==typeof e;if(t===!1||n===!1)throw new Error("$ch.utils.random only takes either numbers or strings as parameters.");return"string"==typeof r&&(r=parseInt(r,10)),"string"==typeof e&&(e=parseInt(e,10)),Math.floor(Math.random()*e)+r},urlParams:function(r){for(var e={},t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");if(0===arguments.length)e[o[0]]=o[1];else if(o[0]===r)return o[1]}return e},isString:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isString requires one parameter.");return"string"==typeof r},isBoolean:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isBoolean requires one parameter.");return"boolean"==typeof r},isNumber:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isNumber requires one parameter.");return"number"==typeof r},isUndefined:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isUndefined requires one parameter.");return void 0===r},isNull:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isNull requires one parameter.");return null===r},isNaN:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isNaN requires one parameter.");return"string"==typeof r&&(r=parseFloat(r)),Number.isNaN(r)},isArray:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isArray requires one parameter.");return $$CHOP.isArray(r)},isObject:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isObject requires one parameter.");var e=!1;return"object"==typeof r&&this.isArray(r)===!1&&(e=!0),e},isFunction:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isFunction requires one parameter.");return"function"==typeof r},isEmpty:function(r){if(1!==arguments.length)throw new Error("$ch.utils.isEmpty requires one parameter.");return this.isArray(r)===!0?0===r.length:this.isObject(r)===!0?0===Object.keys(r).length:void 0},isEqual:function(r,e){if(2!==arguments.length)throw new Error("$ch.utils.isEqual requires two parameters.");var t,n;if(typeof r!=typeof e)return!1;if(this.isNumber(r)||this.isString(r)||this.isBoolean(r))return r===e;if(this.isArray(r)){if(r.length!==e.length)return!1;for(t=0,n=r.length;t!==n;++t)if(r[t]!==e[t])return!1}if(this.isObject(r)){var i=Object.keys(r),o=Object.keys(e);if(i.length!==o.length)return!1;var s;for(t=0,n=i.length;t!==n;++t){if(s=i[t],r[s]!==e[s])return!1;if(s=o[t],r[s]!==e[s])return!1}}return!0}}});