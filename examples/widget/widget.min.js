$ch.define("widget",function(){"use strict";$ch.require("router"),$$CHOP.widget={},$$CHOP.widget={_widgets:{},register:function(e){var t=this;$$CHOP.each(e,function(e,i){t._widgets[e]={name:e,view:i}})}},$$CHOP.router.add({"_chopjs_widget/:name/:data":function(e){var t={},i=e.data.split("&");$$CHOP.each(i,function(e){var i=e.split("=")[0].trim(),r=e.split("=")[1].trim();t[i]=r});var r,c=$$CHOP.widget._widgets[e.name];r=void 0===c?$$CHOP.view({html:"Oops! No such Chop.js widget."}):c.view(t);var d=document.querySelectorAll("body style"),n=document.querySelectorAll("body script");$$CHOP.find("body").view(r),$$CHOP.each(d,function(e){document.body.appendChild(e)}),$$CHOP.each(n,function(e){document.body.appendChild(e)})}});var e=$$CHOP.findAll("ch-widget");$$CHOP.each(e,function(e){e=e.el;var t,i=e.getAttribute("src").trim(),r=e.getAttribute("widget").trim();t="/"===i.slice(-1)?"#/_chopjs_widget/":"/#/_chopjs_widget/",i=i+t+r;var c=[],d=e.querySelectorAll("ch-data");$$CHOP.each(d,function(e){var t=e.getAttribute("key").trim(),i=e.innerHTML;c.push(t+"="+i)}),i+="/"+c.join("&"),e.innerHTML='<iframe src="'+i+'"></iframe>'})});