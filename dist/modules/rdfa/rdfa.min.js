if($ch.define("rdfa",function(){"use strict";$$CHOP.rdfa={};var a=function(a,b,c){if(void 0===c){var d=a.querySelectorAll("["+b+"]"),e=[];return $$CHOP.each(d,function(a){a=a.getAttribute(b).trim(),-1===e.indexOf(a)&&e.push(a)}),d=e}var f=a.querySelectorAll("["+b+'="'+c+'"]');if(null===f)return null;var g=[];return $$CHOP.each(f,function(a){var b={};b.el=a,b.scope=b.el,b.innerHTML=a.innerHTML;var c=a.getAttribute("href");null!==c&&(b.href=c),c=a.getAttribute("about"),null!==c&&(b.about=c),c=a.getAttribute("typeof"),null!==c&&(b.typeof=c),c=a.getAttribute("resource"),null!==c&&(b.resource=c),c=a.getAttribute("property"),null!==c&&(b.property=c),c=a.getAttribute("rel"),null!==c&&(b.rel=c),c=a.getAttribute("content"),null!==c&&(b.content=c),g.push(b)}),g};$$CHOP.rdfa={scope:document,about:function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"about",c)},rel:function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"rel",c)},property:function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"property",c)},"typeof":function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"typeof",c)},content:function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"content",c)},resource:function(b,c){return 0===arguments.length?(b=this.scope,c=void 0):1===arguments.length&&("string"==typeof b?(c=b,b=this.scope):c=void 0),a(b,"resource",c)},trace:function(a,b,c){if(0===arguments.length)throw new Error("$ch.rdfa.trace requires at least one parameter.");if("string"==typeof a)b=a,a=this.scope;else if(arguments.length<2)throw new Error("$ch.rdfa.trace requires a target parameter.");void 0===c&&(c="href");var d=a.querySelectorAll("["+b+"]"),e={};return $$CHOP.each(d,function(b){var d=b.getAttribute(c);e[d]={};var f=a.querySelector('[resource="'+d+'"]');null===f&&(f=a.querySelector('[about="'+d+'"]')),e[d].scope=f;var g=f.getAttribute("typeof");e[d].typeof=g;var h=f.querySelectorAll("[property]");$$CHOP.each(h,function(a){var b=a.getAttribute("property"),c=a.getAttribute("content")||a.innerHTML;e[d][b]=c})}),e},_checkProperty:function(a,b,c,d){var e=a.querySelectorAll("[property],[rel]");return $$CHOP.each(e,function(a){var e=a.getAttribute("href"),f=a.getAttribute("typeof"),g=a.getAttribute("property")||a.getAttribute("rel"),h=a.getAttribute("content")||a.getAttribute("resource")||f||e||a.innerHTML;null!==f?((void 0===b[d][g]||$$CHOP.isArray(b[d][g])===!1)&&(b[d][g]=[]),b[d][g].push(h)):(null!==e?((void 0===b[d][g]||$$CHOP.isArray(b[d][g])===!1)&&(b[d][g]=[]),b[d][g].push(e)):b[d][g]=h,c.push(a))}),b},_linkSubjects:function(a,b){var c=this;return $$CHOP.each(a,function(d,e){delete e.graph,delete e.origins;var f=e.predicates;void 0!==f&&$$CHOP.each(f,function(d,e){var f=e.objects;$$CHOP.isArray(f)!==!1&&$$CHOP.each(f,function(d){delete d.origin;var e=d.value;if(void 0!==a[e]){var f=a[e];f=c._linkSubjects(f,b),d.subject=f,b.push(e)}})})}),a},graph:function(){var a=document.data.graph.subjects,b=[];return a=this._linkSubjects(a,b),$$CHOP.each(b,function(b){delete a[b]}),a},subject:function(a){return"string"!=typeof a?document.data.graph.subjects:document.data.getSubject(a)}}}),"undefined"==typeof GreenTurtle)var GreenTurtle=function(){function a(){}function b(a){this.target=a?a:{graph:{subjects:{},prefixes:{},terms:{}}},this.theOne="_:"+(new Date).getTime(),this.vocabulary=this.language=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}function c(){var a=this;this.curieParser={trim:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(b,c){b=this.trim(b),"["==b.charAt(0)&&"]"==b.charAt(b.length-1)&&(b=b.substring(1,b.length-1));var d=b.indexOf(":");if(d>=0){var e=b.substring(0,d);if(""==e)return(e=a.prefixes[""])?e+b.substring(d+1):null;if("_"==e)return"_:"+b.substring(d+1);if(i.NCNAME.test(e)&&(e=a.prefixes[e]))return e+b.substring(d+1)}return c?a.baseURI.resolve(b):b}},this.base=null,this.toString=function(a){var b=a&&a.shorten?{graph:this,shorten:!0,prefixesUsed:{}}:null;s="";for(var c in this.subjects)s+=this.subjects[c].toString(b),s+="\n";if(a=a&&a.baseURI?"@base <"+baseURI+"> .\n":"",b&&b.shorten)for(var d in b.prefixesUsed)a+="@prefix "+d+" <"+this.prefixes[d]+"> .\n";return 0==a.length?s:a+"\n"+s},this.clear=function(){this.subjects={},this.prefixes={},this.terms={}},this.clear(),Object.defineProperty(this,"tripleCount",{enumerable:!0,configurable:!1,get:function(){var a,b=0;for(a in this.subjects){var c,d=this.subjects[a];for(c in d.predicates)b+=d.predicates[c].objects.length}return b}})}function d(a,b){this.graph=a,this.id=this.subject=b,this.predicates={},this.origins=[],this.types=[]}function e(a){this.predicate=this.id=a,this.objects=[]}function f(a){b.call(this,a)}function g(a){this.query=function(b,c){if(!b)return a.getProjections(c);var d,e=[];for(d in a._data_.graph.subjects){var f,g=a._data_.graph.subjects[d];for(f in b){var h=a._data_.graph.curieParser.parse(f,!0),h=g.predicates[h];if(!h){g=null;break}for(var j=a._data_.graph.curieParser.parse(b[f],!1),k=null,l=0;!k&&l<h.objects.length;l++)h.objects[l].value==j&&(k=h.objects[l]);if(!k){g=null;break}}g&&e.push(i.toProjection(a,g,c))}return e}}function h(a,b){this._data_={owner:a,subject:b,properties:{}}}function i(a){this._data_={graph:new c},this._data_.graph.baseURI=this.parseURI(a),this._data_.baseURI=this._data_.graph.baseURI,Object.defineProperty(this,"rdfa",{value:new g(this),writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"graph",{value:this._data_.graph,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"implementation",{value:GreenTurtle.implementation,writable:!1,configurable:!1,enumerable:!0})}function j(){this.reset(),this.onError=function(a,b){console.log(a+": "+b)}}function k(){this.blankCounter=0,this.vocabularies=[{namespaceURI:"http://schema.org/",isMember:function(a){return 0==a.indexOf(this.namespaceURI)},getProperty:function(a){return this.namespaceURI+a}}]}function l(a){k.call(this),this.graph=a}var m={version:"1.2.0"};a.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/,a.prototype.parseURI=function(b){var c=a.SCHEME.exec(b);if(!c)throw"Bad URI value, no scheme: "+b;return b={spec:b},b.scheme=c[0].substring(0,c[0].length-1),b.schemeSpecificPart=b.spec.substring(c[0].length),"/"==b.schemeSpecificPart.charAt(0)&&"/"==b.schemeSpecificPart.charAt(1)?this.parseGeneric(b):b.isGeneric=!1,b.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(1<this.path.length&&"/."==this.path.substring(this.path.length-2))this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1);else{var a=this.path.charAt(this.path.length-1);"/"!=a&&(a="");for(var b=0;b<this.segments.length;b++)b>0&&".."==this.segments[b]&&(this.segments.splice(b-1,2),b-=2),"."==this.segments[b]&&(this.segments.splice(b,1),b--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+a}this.schemeSpecificPart="//"+this.authority+this.path,"undefined"!=typeof this.query&&(this.schemeSpecificPart+="?"+this.query),"undefined"!=typeof this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},b.resolve=function(b){if(!b)return this.spec;if("#"==b.charAt(0)){var c=this.spec.lastIndexOf("#");return 0>c?this.spec+b:this.spec.substring(0,c)+b}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;return b.indexOf(":"),"/"==b.charAt(0)?this.scheme+"://"+this.authority+b:"."==b.charAt(0)&&"/"==b.charAt(1)?"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+b.substring(2):(c=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,c)+b.substring(1)):a.SCHEME.test(b)?b:"?"==b.charAt(0)||"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+b:(c=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,c+1)+b)},b.relativeTo=function(a){if(a.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!a.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+a.spec;if(a.authority!=this.authority)return this.spec;for(var b=0;b<this.segments.length&&b<a.segments.length;b++)if(this.segments[b]!=a.segments[b]){for(var c="",d=b;d<a.segments.length;d++)c+="../";for(d=b;d<this.segments.length;d++)c+=this.segments[d],d+1<this.segments.length&&(c+="/");return"/"==this.path.charAt(this.path.length-1)&&(c+="/"),c}if(this.segments.length==a.segments.length)return this.hash?this.hash:this.query?this.query:"";if(b<this.segments.length){for(c="",d=b;d<this.segments.length;d++)c+=this.segments[d],d+1<this.segments.length&&(c+="/");return"/"==this.path.charAt(this.path.length-1)&&(c+="/"),c}throw"Cannot calculate a relative URI for "+this.spec+" against "+a.spec},b},a.prototype.parseGeneric=function(a){if("/"!=a.schemeSpecificPart.charAt(0)||"/"!=a.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+a.spec;var b=a.schemeSpecificPart.substring(2),c=b.indexOf("/");if(a.authority=0>c?b:b.substring(0,c),a.path=0>c?"":b.substring(c),b=a.path.indexOf("#"),b>=0&&(a.fragment=a.path.substring(b+1),a.path=a.path.substring(0,b)),b=a.path.indexOf("?"),b>=0&&(a.query=a.path.substring(b+1),a.path=a.path.substring(0,b)),"/"==a.path||""==a.path)a.segments=[];else for(a.segments=a.path.split(/\//),0<a.segments.length&&""==a.segments[0]&&1<a.path.length&&"/"!=a.path.charAt(1)&&a.segments.shift(),0<a.segments.length&&0<a.path.length&&"/"==a.path.charAt(a.path.length-1)&&""==a.segments[a.segments.length-1]&&1<a.path.length&&"/"!=a.path.charAt(a.path.length-2)&&a.segments.pop(),b=0;b<a.segments.length;b++)for(var c=a.segments[b].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),d=0;d<c.length;d++)if(0<c[d].length)throw"Unecaped character "+c[d].charAt(0)+" ("+c[d].charCodeAt(0)+") in URI "+a.spec;a.isGeneric=!0},b.prototype=new a,b.prototype.constructor=b,b.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},b.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",b.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",b.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",b.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",b.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",b.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",b.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",b.NCNAME=RegExp("^"+b.nameStartChar+b.nameChar+"*$"),b.trim=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},b.prototype.tokenize=function(a){return b.trim(a).split(/\s+/)},b.prototype.parseSafeCURIEOrCURIEOrURI=function(a,c,d){return a=b.trim(a),"["==a.charAt(0)&&"]"==a.charAt(a.length-1)?(a=a.substring(1,a.length-1),a=a.trim(a),0==a.length?null:"_:"==a?this.theOne:this.parseCURIE(a,c,d)):this.parseCURIEOrURI(a,c,d)},b.prototype.parseCURIE=function(a,c){var d=a.indexOf(":");if(d>=0){var e=a.substring(0,d);if(""==e)return(e=c[""])?e+a.substring(d+1):null;if("_"==e)return"_:"+a.substring(d+1);if(b.NCNAME.test(e)&&(e=c[e]))return e+a.substring(d+1)}return null},b.prototype.parseCURIEOrURI=function(a,b,c){return(b=this.parseCURIE(a,b,c))?b:this.resolveAndNormalize(c,a)},b.prototype.parsePredicate=function(a,b,c,d,e,f){return""==a?null:(a=this.parseTermOrCURIEOrAbsURI(a,b,f?null:c,d,e))&&0==a.indexOf("_:")?null:a},b.prototype.parseTermOrCURIEOrURI=function(a,c,d,e,f){return a=b.trim(a),(e=this.parseCURIE(a,e,f))||(e=d[a])?e:(e=a.toLowerCase(),(e=d[e])?e:c&&!this.absURIRE.exec(a)?c+a:this.resolveAndNormalize(f,a))},b.prototype.parseTermOrCURIEOrAbsURI=function(a,c,d,e,f){if(a=b.trim(a),e=this.parseCURIE(a,e,f))return e;if(d){if(c&&!this.absURIRE.exec(a))return c+a;if(c=d[a])return c;if(c=a.toLowerCase(),c=d[c])return c}return this.absURIRE.exec(a)?this.resolveAndNormalize(f,a):null},b.prototype.resolveAndNormalize=function(a,b){var c=a.resolve(b),c=this.parseURI(c);return c.normalize(),c.spec},b.prototype.parsePrefixMappings=function(a,b){for(var c=this.tokenize(a),d=null,e=0;e<c.length;e++)":"==c[e][c[e].length-1]?d=c[e].substring(0,c[e].length-1):d&&(b[d]=this.target.baseURI?this.target.baseURI.resolve(c[e]):c[e],d=null)},b.prototype.copyMappings=function(a){var b,c={};for(b in a)c[b]=a[b];return c},b.prototype.ancestorPath=function(a){for(var b="";a&&a.nodeType!=Node.DOCUMENT_NODE;)b="/"+a.localName+b,a=a.parentNode;return b},b.prototype.setContext=function(a){"html"==a.localName&&"XHTML+RDFa 1.1"==a.getAttribute("version")?this.setXHTMLContext():"html"==a.localName||"http://www.w3.org/1999/xhtml"==a.namespaceURI?document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()},b.prototype.setInitialContext=function(){this.vocabulary=null,this.target.graph.prefixes={},this.target.graph.terms={},this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.target.graph.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.graph.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.graph.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.graph.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.graph.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.graph.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.graph.prefixes.rif="http://www.w3.org/2007/rif#",this.target.graph.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.graph.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.graph.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.graph.prefixes["void"]="http://rdfs.org/ns/void#",this.target.graph.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.graph.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.graph.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.graph.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.graph.prefixes.org="http://www.w3.org/ns/org#",this.target.graph.prefixes.gldp="http://www.w3.org/ns/people#",this.target.graph.prefixes.cnt="http://www.w3.org/2008/content#",this.target.graph.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.earl="http://www.w3.org/ns/earl#",this.target.graph.prefixes.ht="http://www.w3.org/2006/http#",this.target.graph.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.graph.prefixes.cc="http://creativecommons.org/ns#",this.target.graph.prefixes.ctag="http://commontag.org/ns#",this.target.graph.prefixes.dc="http://purl.org/dc/terms/",this.target.graph.prefixes.dcterms="http://purl.org/dc/terms/",this.target.graph.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.graph.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.graph.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.graph.prefixes.og="http://ogp.me/ns#",this.target.graph.prefixes.rev="http://purl.org/stuff/rev#",this.target.graph.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.graph.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.graph.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.graph.prefixes.schema="http://schema.org/",this.target.graph.terms.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role"},b.prototype.setXMLContext=function(){this.setInitialContext(),this.inHTMLMode=this.inXHTMLMode=!1},b.prototype.setHTMLContext=function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0},b.prototype.setXHTMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"},b.prototype.init=function(){},b.prototype.newSubjectOrigin=function(){},b.prototype.addTriple=function(){},b.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],b.deriveDateTimeType=function(a){for(var c=0;c<b.dateTimeTypes.length;c++){var d=b.dateTimeTypes[c].pattern.exec(a);if(d&&d[0].length==a.length)return b.dateTimeTypes[c].type}return null},b.prototype.process=function(a,c){a.nodeType==Node.DOCUMENT_NODE?(a=a.documentElement,this.setContext(a)):a.parentNode.nodeType==Node.DOCUMENT_NODE&&this.setContext(a);var d=[],e=function(a){var b=a.indexOf("#");return b>=0&&(a=a.substring(0,b)),c&&c.baseURIMap&&(a=c.baseURIMap(a)),a};for(d.push({current:a,context:this.push(null,e(a.baseURI))});0<d.length;){var f=d.shift();if(f.parent){if(!f.context.parent||f.context.parent.listMapping!=f.listMapping)for(var g in f.listMapping){var h=f.listMapping[g];if(0==h.length)this.addTriple(f.parent,f.subject,g,{type:b.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});else{for(var i=[],j=0;j<h.length;j++)i.push(this.newBlankNode());for(j=0;j<i.length;j++)this.addTriple(f.parent,i[j],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",h[j]),this.addTriple(f.parent,i[j],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:b.objectURI,value:j+1<i.length?i[j+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(f.parent,f.subject,g,{type:b.objectURI,value:i[0]})}}}else{var i=f.current,f=f.context,k=!1,l=null,m=null,n=null,o=f.prefixes,h=!1,p=[],q=f.listMapping,r=f.parent?!1:!0,s=f.language,t=f.vocabulary,u=this.parseURI(e(i.baseURI));for(i.item=null,(j=i.getAttributeNode("vocab"))&&(j=b.trim(j.value),0<j.length?(t=j,this.addTriple(i,u.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:b.objectURI,value:t})):t=this.vocabulary),j=0;j<i.attributes.length;j++){var v=i.attributes[j];if("x"==v.nodeName.charAt(0)&&0==v.nodeName.indexOf("xmlns:")){h||(o=this.copyMappings(o),h=!0);var w=v.nodeName.substring(6),v=b.trim(v.value);o[w]=this.target.baseURI?this.target.baseURI.resolve(v):v}}for((j=i.getAttributeNode("prefix"))&&(h||(o=this.copyMappings(o),h=!0),this.parsePrefixMappings(j.value,o)),h=null,j=0;!h&&j<this.langAttributes.length;j++)h=i.getAttributeNodeNS(this.langAttributes[j].namespaceURI,this.langAttributes[j].localName);h&&(j=b.trim(h.value),s=0<j.length?j:null);var w=i.getAttributeNode("rel"),v=i.getAttributeNode("rev"),x=i.getAttributeNode("typeof"),y=i.getAttributeNode("property"),z=i.getAttributeNode("datatype"),A=this.inHTMLMode?i.getAttributeNode("datetime"):null,B=i.getAttributeNode("content"),C=i.getAttributeNode("about"),D=i.getAttributeNode("src"),E=i.getAttributeNode("resource"),F=i.getAttributeNode("href"),G=i.getAttributeNode("inlist"),H=[];if(w)for(var I=this.tokenize(w.value),j=0;j<I.length;j++)(g=this.parsePredicate(I[j],t,f.terms,o,u,this.inHTMLMode&&null!=y))&&H.push(g);var J=[];if(v)for(I=this.tokenize(v.value),j=0;j<I.length;j++)(g=this.parsePredicate(I[j],t,f.terms,o,u,this.inHTMLMode&&null!=y))&&J.push(g);if(!this.inHTMLMode||null==w&&null==v||null==y||(0==H.length&&(w=null),0==J.length&&(v=null)),w||v?(C&&(l=this.parseSafeCURIEOrCURIEOrURI(C.value,o,u)),x&&(n=l),l||(i.parentNode.nodeType==Node.DOCUMENT_NODE?l=e(i.baseURI):f.parentObject&&(l=e(i.parentNode.baseURI)==f.parentObject?e(i.baseURI):f.parentObject)),E&&(m=this.parseSafeCURIEOrCURIEOrURI(E.value,o,u)),m||(F?m=this.resolveAndNormalize(u,encodeURI(F.value)):D?m=this.resolveAndNormalize(u,encodeURI(D.value)):!x||C||this.inXHTMLMode&&("head"==i.localName||"body"==i.localName)||(m=this.newBlankNode())),!x||C||!this.inXHTMLMode||"head"!=i.localName&&"body"!=i.localName?x&&!C&&(n=m):n=l):!y||B||z?(C&&(l=this.parseSafeCURIEOrCURIEOrURI(C.value,o,u)),!l&&E&&(l=this.parseSafeCURIEOrCURIEOrURI(E.value,o,u)),!l&&F&&(l=this.resolveAndNormalize(u,encodeURI(F.value))),!l&&D&&(l=this.resolveAndNormalize(u,encodeURI(D.value))),l||(i.parentNode.nodeType==Node.DOCUMENT_NODE?l=e(i.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=i.localName&&"body"!=i.localName?x?l=this.newBlankNode():f.parentObject&&(l=e(i.parentNode.baseURI)==f.parentObject?e(i.baseURI):f.parentObject,y||(k=!0)):l=e(i.parentNode.baseURI)==f.parentObject?e(i.baseURI):f.parentObject),x&&(n=l)):(C&&(l=this.parseSafeCURIEOrCURIEOrURI(C.value,o,u),x&&(n=l)),l||i.parentNode.nodeType!=Node.DOCUMENT_NODE?!l&&f.parentObject&&(l=e(i.parentNode.baseURI)==f.parentObject?e(i.baseURI):f.parentObject):(l=e(i.baseURI),x&&(n=l)),x&&!n&&(E&&(n=this.parseSafeCURIEOrCURIEOrURI(E.value,o,u)),!n&&F&&(n=this.resolveAndNormalize(u,encodeURI(F.value))),!n&&D&&(n=this.resolveAndNormalize(u,encodeURI(D.value))),n||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=i.localName&&"body"!=i.localName||(n=l),n||(n=this.newBlankNode()),m=n)),l&&(C||E||n)&&(j=l,x&&!C&&!E&&m&&(j=m),this.newSubjectOrigin(i,j)),n)for(I=this.tokenize(x.value),j=0;j<I.length;j++)(h=this.parseTermOrCURIEOrAbsURI(I[j],t,f.terms,o,u))&&this.addTriple(i,n,b.typeURI,{type:b.objectURI,value:h});if(l&&l!=f.parentObject&&(q={},r=!0),m){if(w&&G)for(j=0;j<H.length;j++)h=q[H[j]],h||(h=[],q[H[j]]=h),h.push({type:b.objectURI,value:m});else if(w)for(j=0;j<H.length;j++)this.addTriple(i,l,H[j],{type:b.objectURI,value:m});if(v)for(j=0;j<J.length;j++)this.addTriple(i,m,J[j],{type:b.objectURI,value:l})}else{if(l&&!m&&(w||v)&&(m=this.newBlankNode()),w&&G)for(j=0;j<H.length;j++)h=q[H[j]],h||(h=[],q[g]=h),p.push({predicate:H[j],list:h});else if(w)for(j=0;j<H.length;j++)p.push({predicate:H[j],forward:!0});if(v)for(j=0;j<J.length;j++)p.push({predicate:J[j],forward:!1})}if(y)for(J=H=null,z?(H=""==z.value?b.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(z.value,t,f.terms,o,u),J=A&&!B?A.value:H==b.XMLLiteralURI||H==b.HTMLLiteralURI?null:B?B.value:i.textContent):B?(H=b.PlainLiteralURI,J=B.value):A?(J=A.value,H=b.deriveDateTimeType(J),H||(H=b.PlainLiteralURI)):!w&&!v&&(E&&(J=this.parseSafeCURIEOrCURIEOrURI(E.value,o,u)),!J&&F?J=this.resolveAndNormalize(u,encodeURI(F.value)):!J&&D&&(J=this.resolveAndNormalize(u,encodeURI(D.value))),J&&(H=b.objectURI)),H||(x&&!C?(H=b.objectURI,J=n):(J=i.textContent,this.inHTMLMode&&"time"==i.localName&&(H=b.deriveDateTimeType(J)),H||(H=b.PlainLiteralURI))),I=this.tokenize(y.value),j=0;j<I.length;j++)(g=this.parsePredicate(I[j],t,f.terms,o,u))&&(G?(h=q[g],h||(h=[],q[g]=h),h.push(H==b.XMLLiteralURI||H==b.HTMLLiteralURI?{type:H,value:i.childNodes}:{type:H?H:b.PlainLiteralURI,value:J,language:s})):H==b.XMLLiteralURI||H==b.HTMLLiteralURI?this.addTriple(i,l,g,{type:H,value:i.childNodes}):this.addTriple(i,l,g,{type:H?H:b.PlainLiteralURI,value:J,language:s}));if(l&&!k)for(j=0;j<f.incomplete.length;j++)f.incomplete[j].list?f.incomplete[j].list.push({type:b.objectURI,value:l}):f.incomplete[j].forward?this.addTriple(i,f.subject,f.incomplete[j].predicate,{type:b.objectURI,value:l}):this.addTriple(i,l,f.incomplete[j].predicate,{type:b.objectURI,value:f.subject});for(n=null,u=l,k?(n=this.push(f,f.subject),n.parentObject=e(i.parentNode.baseURI)==f.parentObject?e(i.baseURI):f.parentObject,n.incomplete=f.incomplete,n.language=s,n.prefixes=o):(n=this.push(f,l),n.parentObject=m?m:l?l:f.subject,n.prefixes=o,n.incomplete=p,m&&(u=m,q={},r=!0),n.listMapping=q,n.language=s),n.vocabulary=t,r&&d.unshift({parent:i,context:f,subject:u,listMapping:q}),i=i.lastChild;i;i=i.previousSibling)i.nodeType==Node.ELEMENT_NODE&&d.unshift({current:i,context:n})}}for(this.inHTMLMode&&this.copyProperties(),j=0;j<this.finishedHandlers.length;j++)this.finishedHandlers[j](a)},b.prototype.copyProperties=function(){},b.prototype.push=function(a,b){return{parent:a,subject:b?b:a?a.subject:null,parentObject:null,incomplete:[],listMapping:a?a.listMapping:{},language:a?a.language:this.language,prefixes:a?a.prefixes:this.target.graph.prefixes,terms:a?a.terms:this.target.graph.terms,vocabulary:a?a.vocabulary:this.vocabulary}},c.prototype.expand=function(a){return this.curieParser.parse(a,!0)},c.prototype.shorten=function(a,b){for(prefix in this.prefixes){var c=this.prefixes[prefix];if(0==a.indexOf(c))return b&&(b[prefix]=c),prefix+":"+a.substring(c.length)}return null},d.prototype.toString=function(a){var b=null;"_:"==this.subject.substring(0,2)?b=this.subject:a&&a.shorten?(b=this.graph.shorten(this.subject,a.prefixesUsed))||(b="<"+this.subject+">"):b="<"+this.subject+">";var c,d=!0;for(c in this.predicates)d?d=!1:b+=";\n",b+=" "+this.predicates[c].toString(a);return b+" ."},d.prototype.toObject=function(){var a,c={subject:this.subject,predicates:{}};for(a in this.predicates){var d=this.predicates[a],e={predicate:a,objects:[]};c.predicates[a]=e;for(var f=0;f<d.objects.length;f++){var g=d.objects[f];if(g.type==b.XMLLiteralURI){for(var h=new XMLSerializer,i="",j=0;j<g.value.length;j++)g.value[j].nodeType==Node.ELEMENT_NODE?i+=h.serializeToString(g.value[j]):g.value[j].nodeType==Node.TEXT_NODE&&(i+=g.value[j].nodeValue);e.objects.push({type:g.type,value:i,language:g.language})}else e.objects.push({type:g.type,value:g.value,language:g.language})}}return c},d.prototype.getValues=function(){for(var a=[],b=0;b<arguments.length;b++){var c=this.graph.curieParser.parse(arguments[b],!0);if(c=this.predicates[c])for(var d=0;d<c.objects.length;d++)a.push(c.objects[d].value)}return a},e.getPrefixMap=function(a){for(var b={};a.attributes;){for(var c=0;c<a.attributes.length;c++)if("http://www.w3.org/2000/xmlns/"==a.attributes[c].namespaceURI){var d=a.attributes[c].localName;"xmlns"==a.attributes[c].localName&&(d=""),d in b||(b[d]=a.attributes[c].nodeValue)}a=a.parentNode}return b},e.prototype.toString=function(a){var b=null;a&&a.shorten&&a.graph?(b=a.graph.shorten(this.predicate,a.prefixesUsed))||(b="<"+this.predicate+">"):b="<"+this.predicate+">";for(var b=b+" ",c=0;c<this.objects.length;c++)if(c>0&&(b+=", "),"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"==this.objects[c].type)"_:"==this.objects[c].value.substring(0,2)?b+=this.objects[c].value:a&&a.shorten&&a.graph?(b=a.graph.shorten(this.objects[c].value,a.prefixesUsed))||(b="<"+this.objects[c].value+">"):b+="<"+this.objects[c].value+">";else if("http://www.w3.org/2001/XMLSchema#integer"==this.objects[c].type||"http://www.w3.org/2001/XMLSchema#decimal"==this.objects[c].type||"http://www.w3.org/2001/XMLSchema#double"==this.objects[c].type||"http://www.w3.org/2001/XMLSchema#boolean"==this.objects[c].type)b+=this.objects[c].value;else if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"==this.objects[c].type){for(var d=new XMLSerializer,f="",g=0;g<this.objects[c].value.length;g++)if(this.objects[c].value[g].nodeType==Node.ELEMENT_NODE){var h,i=e.getPrefixMap(this.objects[c].value[g]),j=[];for(h in i)j.push(h);j.sort();for(var k=this.objects[c].value[g].cloneNode(!0),l=0;l<j.length;l++)k.setAttributeNS("http://www.w3.org/2000/xmlns/",0==j[l].length?"xmlns":"xmlns:"+j[l],i[j[l]]);f+=d.serializeToString(k)}else this.objects[c].value[g].nodeType==Node.TEXT_NODE&&(f+=this.objects[c].value[g].nodeValue);b+='"""'+f.replace(/"""/,'\\"\\"\\"')+'"""^^<http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral>'}else d=this.objects[c].value,b=0<=d.indexOf("\n")||0<=d.indexOf("\r")?b+('"""'+d.replace(/"""/,'\\"\\"\\"')+'"""'):b+('"'+d.replace(/"/,'\\"')+'"'),"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"!=this.objects[c].type?b+="^^<"+this.objects[c].type+">":this.objects[c].language&&(b+="@"+this.objects[c].language);
return b},f.prototype=new b,f.prototype.constructor=b,f.prototype.getObjectSize=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},f.prototype.init=function(){var a=this;this.finishedHandlers.push(function(){for(var b in a.target.graph.subjects)0==a.getObjectSize(a.target.graph.subjects[b].predicates)&&delete a.target.graph.subjects[b]})},f.prototype.newSubjectOrigin=function(a,b){for(var c=this.newSubject(null,b),d=0;d<c.origins.length;d++)if(c.origins[d]===a)return;c.origins.push(a),a.data||Object.defineProperty(a,"data",{value:c,writable:!1,configurable:!0,enumerable:!0})},f.prototype.newSubject=function(a,b){var c=this.target.graph.subjects[b];return c||(c=new d(this.target.graph,b),this.target.graph.subjects[b]=c),c},f.prototype.addTriple=function(a,c,d,f){var g=this.newSubject(a,c),c=g.predicates[d];c||(c=new e(d),g.predicates[d]=c);for(var h=0;h<c.objects.length;h++)if(c.objects[h].type==f.type&&c.objects[h].value==f.value)return void(c.objects[h].origin!==a&&(Array.isArray(c.objects[h].origin)||(d=[],d.push(c.objects[h].origin),c.objects[h].origin=d),c.objects[h].origin.push(a)));c.objects.push(f),f.origin=a,d==b.typeURI&&g.types.push(f.value)},f.rdfaCopyPredicate="http://www.w3.org/ns/rdfa#copy",f.rdfaPatternType="http://www.w3.org/ns/rdfa#Pattern",f.prototype.copyProperties=function(){var a,c=[],d={};for(a in this.target.graph.subjects){var g=this.target.graph.subjects[a],h=g.predicates[f.rdfaCopyPredicate];if(h){c.push(a);for(var i=0;i<h.objects.length;i++)if(h.objects[i].type==b.objectURI){var j=h.objects[i].value,k=this.target.graph.subjects[j];if(k){var l=k.predicates[b.typeURI];if(l){for(var m=!1,n=0;n<l.objects.length&&!m;n++)l.objects[n].value==f.rdfaPatternType&&l.objects[n].type==b.objectURI&&(m=!0);if(m){d[j]=!0;for(var o in k.predicates)if(j=k.predicates[o],o==b.typeURI){if(1!=j.objects.length)for(n=0;n<j.objects.length;n++)j.objects[n].value!=f.rdfaPatternType&&(l=g.predicates[o],l||(l=new e(o),g.predicates[o]=l),l.objects.push({type:j.objects[n].type,value:j.objects[n].value,language:j.objects[n].language,origin:j.objects[n].origin}),g.types.push(j.objects[n].value))}else for(l=g.predicates[o],l||(l=new e(o),g.predicates[o]=l),n=0;n<j.objects.length;n++)l.objects.push({type:j.objects[n].type,value:j.objects[n].value,language:j.objects[n].language,origin:j.objects[n].origin})}}}}}}for(i=0;i<c.length;i++)g=this.target.graph.subjects[c[i]],delete g.predicates[f.rdfaCopyPredicate];for(a in d)delete this.target.graph.subjects[a]},h.prototype.getProperties=function(){var a,b=[];for(a in this._data_.properties)b.push(a);return b},h.prototype.getSubject=function(){return this._data_.subject},h.prototype.get=function(a){return a=this._data_.owner._data_.graph.curieParser.parse(a,!0),(a=this._data_.properties[a])?a[0]:null},h.prototype.getAll=function(a){return a=this._data_.owner._data_.graph.curieParser.parse(a,!0),this._data_.properties[a]},i.prototype=new a,i.prototype.constructor=i,i.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",i.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",i.NCNAME=RegExp("^"+b.nameStartChar+b.nameChar+"*$"),i.toProjection=function(a,b,c){var d,e=new h(a,b.subject);for(d in b.predicates){var f=b.predicates[d],g=[];e._data_.properties[d]=g;for(var i=0;i<f.objects.length;i++)g.push(f.objects[i].value)}if(c)for(var j in c)d=c[j],d=a._data_.graph.curieParser.parse(d,!0),(g=e._data_.properties[d])&&(e[j]=1==g.length?g[0]:g);return e},i.prototype.getProperties=function(a){var b=[];if(a){if(a=this._data_.graph.curieParser.parse(a,!0),e=this._data_.graph.subjects[a])for(var c in e.predicates)b.push(c)}else{var d,a={};for(d in this._data_.graph.subjects){var e=this._data_.graph.subjects[d];if(e)for(c in e.predicates)a[c]||(a[c]=!0,b.push(c))}}return b},i.prototype.getSubjects=function(a,b){var c=[];if(a&&(a=this._data_.graph.curieParser.parse(a,!0)),a&&b){var d,e=this._data_.graph.curieParser.parse(b,!0);for(d in this._data_.graph.subjects){var f=this._data_.graph.subjects[d];if(f=f.predicates[a])for(var g=0;g<f.objects.length;g++)if(f.objects[g].value==b||f.objects[g].value==e){c.push(d);break}}}else if(a)for(d in this._data_.graph.subjects)f=this._data_.graph.subjects[d],(f=f.predicates[a])&&c.push(d);else if(b)for(d in e=this._data_.graph.curieParser.parse(b,!0),this._data_.graph.subjects){var h,f=this._data_.graph.subjects[d];for(h in f.predicates)if(f=d.predicates[h]){for(var i=null,g=0;!i&&g<f.objects.length;g++)(f.objects[g].value==b||node.objects[g].value==e)&&(i=f.objects[g]);if(i){c.push(d);break}}}else for(d in this._data_.graph.subjects)c.push(d);return c},i.prototype.getValueOrigins=function(a,b){var c=[],d=function(a){if(a)for(var b=0;b<a.objects.length;b++)if(Array.isArray(a.objects[b].origin))for(var d=0;d<a.objects[b].origin.length;d++)c.push({origin:a.objects[b].origin[d],value:a.objects[b].value});else c.push({origin:a.objects[b].origin,value:a.objects[b].value})};if(b&&(b=this._data_.graph.curieParser.parse(b,!0)),a){var a=this._data_.graph.curieParser.parse(a,!0),e=this._data_.graph.subjects[a];if(e)if(b)d(e.predicates[b]);else for(var f in e.predicates)d(e.predicates[f])}else if(b)for(var g in this._data_.graph.subjects)e=this._data_.graph.subjects[g],d(e.predicates[b]);else for(g in this._data_.graph.subjects)for(f in e=this._data_.graph.subjects[g],e.predicates)d(e.predicates[f]);return c},i.prototype.getValues=function(a,b){var c=[];if(b&&(b=this._data_.graph.curieParser.parse(b,!0)),a){var a=this._data_.graph.curieParser.parse(a,!0),d=this._data_.graph.subjects[a];if(d)if(b){var e=d.predicates[b];if(e)for(var f=0;f<e.objects.length;f++)c.push(e.objects[f].value)}else for(var g in d.predicates)for(e=d.predicates[g],f=0;f<e.objects.length;f++)c.push(e.objects[f].value)}else if(b){for(var h in this._data_.graph.subjects)if(d=this._data_.graph.subjects[h],e=d.predicates[b])for(f=0;f<e.objects.length;f++)c.push(e.objects[f].value)}else for(h in this._data_.graph.subjects)for(g in d=this._data_.graph.subjects[h],d.predicates)for(e=d.predicates[g],f=0;f<e.objects.length;f++)c.push(e.objects[f].value);return c},Object.defineProperty(i.prototype,"prefixes",{enumerable:!0,get:function(){return Object.keys(this._data_.graph.prefixes)}}),i.prototype.setMapping=function(a,b){this._data_.graph.prefixes[a]=b},i.prototype.getMapping=function(a){return this._data_.graph.prefixes[a]},i.prototype.expand=function(a){return this._data_.graph.expand(a)},i.prototype.shorten=function(a){return this._data_.graph.shorten(a)},i.prototype.getSubject=function(a){return a?(a=this._data_.graph.curieParser.parse(a,!0),(a=this._data_.graph.subjects[a])?a:null):null},i.prototype.getProjection=function(a,b){if(!a)return null;var a=this._data_.graph.curieParser.parse(a,!0),c=this._data_.graph.subjects[a];return c?i.toProjection(this,c,b):null},i.prototype.getProjections=function(a,b,c){a&&(a=this._data_.graph.curieParser.parse(a,!0));var d=[];if("undefined"==typeof b&&"undefined"==typeof c&&(c=a),a&&b){var e,f=this._data_.graph.curieParser.parse(b,!0);for(e in this._data_.graph.subjects){var g=this._data_.graph.subjects[e],h=g.predicates[a];if(h)for(var j=0;j<h.objects.length;j++)if(h.objects[j].value==b||h.objects[j].value==f){d.push(i.toProjection(this,g,c));break}}}else if(a)for(e in this._data_.graph.subjects)g=this._data_.graph.subjects[e],g.predicates[a]&&d.push(i.toProjection(this,g,c));else for(e in this._data_.graph.subjects)g=this._data_.graph.subjects[e],d.push(i.toProjection(this,g,c));return d},i.prototype.merge=function(a,c){var d=c&&c.mergeBlankNodes?!0:!1,e=0;if(!d)for(var f in this._data_.graph.subjects){var g=/_:([0-9]+)/.exec(f);g&&(g=parseInt(g[1]),g>e&&(e=g))}if(a){var h={},d=d?function(a){return a}:function(a){var b=h[a];return!b&&/_:([0-9]+)/.test(a)&&(e++,b="_:"+e,h[a]=b),b?b:a};for(f in a){var i=d(f),g=a[f];if(f=i?i:f,i=this._data_.graph.subjects[f])for(var j in g.predicates){var k=g.predicates[j],l=i.predicates[j];if(l)for(var m=0;m<k.objects.length;m++){for(var n=k.objects[m],o=[],p=0;p<l.objects.length;p++)n.type!=b.XMLLiteralURI||l.objects[p].type==n.type&&l.objects[p].value===n.value?(l.objects[p].type!=n.type||l.objects[p].value==n.value)&&o.push(n):o.push(n);for(p=0;p<o.length;p++)o[p].type==b.objectURI&&(o[p].value=d(o[p].value)),l.objects.push(o[p])}else for(i.predicates[j]=k,m=0;m<k.objects.length;m++)k.objects[m].type==b.objectURI&&(k.objects[m].value=d(k.objects[m].value))}else for(j in this._data_.graph.subjects[f]=g,g.subject=f,g.predicates)for(k=g.predicates[j],m=0;m<k.objects.length;m++)k.objects[m].type==b.objectURI&&(k.objects[m].value=d(k.objects[m].value))}}if(c&&c.prefixes)for(var q in c.prefixes)this._data_.graph.prefixes[q]||(this._data_.graph.prefixes[q]=c.prefixes[q])},Element.prototype.getElementsByType=function(){var a=arguments,b=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(b){if(!b.data)return NodeFilter.FILTER_SKIP;for(var c=0;c<a.length;c++)if(0<=b.data.types.indexOf(a[c]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1),c=[];for(c.item=function(a){return this[a]};b.nextNode();)c.push(b.currentNode);return c},Element.prototype.getFirstElementByType=function(){var a=arguments,b=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(b){if(!b.data)return NodeFilter.FILTER_SKIP;for(var c=0;c<a.length;c++)if(0<=b.data.types.indexOf(a[c]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1);return b.nextNode()?b.currentNode:null},i.attach=function(a,b){Object.defineProperty(a,"data",{value:new i(b&&b.baseURI?b.baseURI:a.nodeType==Node.DOCUMENT_NODE?a.documentElement.baseURI:a.graph.baseURI),writable:!1,configurable:!1,enumerable:!0}),a.getElementsByType=function(a){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",a)},a.getElementsBySubject=function(a){var b=[];if(b.item=function(a){return this[a]},a=this.data._data_.graph.curieParser.parse(a,!0),a=this.data._data_.graph.subjects[a])for(var c=0;c<a.origins.length;c++)b.push(a.origins[c]);return b},a.getElementsByProperty=function(a,b){var c=[];c.item=function(a){return this[a]},b&&(b=this.data._data_.graph.curieParser.parse(b,!1));var d,e="undefined"==typeof b,a=this.data._data_.graph.curieParser.parse(a,!0);for(d in this.data._data_.graph.subjects){var f=this.data._data_.graph.subjects[d].predicates[a];if(f)for(var g=0;g<f.objects.length;g++)(e||f.objects[g].value==b)&&(Array.isArray(f.objects[g].origin)?c.push.apply(c,f.objects[g].origin):c.push(f.objects[g].origin))}return c},a.getElementSubject=function(a){for(var b in this.data._data_.graph.subjects)if(0<=this.data._data_.graph.subjects[b].origins.indexOf(a))return b;return null}},j.prototype=new a,j.prototype.constructor=j,j.commentRE=/^#.*/,j.wsRE=/^\s+/,j.iriRE=/^\<((?:(?:[^\x00-\x20<>"{}|^`\\]|\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]|\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])*))\>/,j.singleQuoteLiteralRE=/^'((?:[^'\n\r\\]*|\\'|\\)*)'/,j.doubleQuoteLiteralRE=/^\"((?:[^"\n\r\\]*|\\"|\\)*)\"/,j.longDoubleQuoteLiteralRE=/^\"\"\"((?:[^"\\]*|\\"|\\|\"(?!\")|\"\"(?!\"))*)\"\"\"/,j.longSingleQuoteLiteralRE=/^'''((?:[^'\\]*|\\'|\\|'(?!')|''(?!'))*)'''/,j.typeRE=/^\^\^/,j.dotRE=/^\./,j.openSquareBracketRE=/^\[/,j.closeSquareBracketRE=/^\]/,j.prefixRE=/^((?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\.\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040]))?)?):/,j.blankNodeRE=/^(_:)/,j.localNameRE=/^((?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_:]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=\/?#@%])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\.:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=/?#@%])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=/?#@%]))?)/,j.langRE=/^@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)/,j.prefixIDRE=/^@prefix/,j.baseRE=/^@base/,j.sparqlPrefixRE=/^[Pp][Rr][Ee][Ff][Ii][Xx]/,j.sparqlBaseRE=/^[Bb][Aa][Ss][Ee]/,j.semicolonRE=/^;/,j.commaRE=/^,/,j.aRE=/^a/,j.openParenRE=/^\(/,j.closeParenRE=/^\)/,j.integerRE=/^([+-]?[0-9]+)/,j.decimalRE=/^([+-]?[0-9]*\.[0-9]+)/,j.doubleRE=/^([+-]?(?:[0-9]+\.[0-9]*[eE][+-]?[0-9]+|\.[0-9]+[eE][+-]?[0-9]+|[0-9]+[eE][+-]?[0-9]+))/,j.booleanRE=/^(true|false)/,j.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",j.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",j.plainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",j.nilURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",j.firstURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",j.restURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",j.xsdStringURI="http://www.w3.org/2001/XMLSchema#string",j.xsdIntegerURI="http://www.w3.org/2001/XMLSchema#integer",j.xsdDecimalURI="http://www.w3.org/2001/XMLSchema#decimal",j.xsdDoubleURI="http://www.w3.org/2001/XMLSchema#double",j.xsdBooleanURI="http://www.w3.org/2001/XMLSchema#boolean",j.prototype.reset=function(){this.context=new c,this.errorCount=this.blankNodeCounter=0,this.lineNumber=1},j.dumpGraph=function(a){for(var b in a)console.log(a[b].toString())},j.prototype.newBlankNode=function(){return this.blankNodeCounter++,"_:"+this.blankNodeCounter},j.prototype._match=function(a,b){var c=a.exec(b);return c?{text:c[0],remaining:b.substring(c[0].length),values:1<c.length?c.splice(1):null}:null},j.prototype._trim=function(a){var b=null;do(b=j.wsRE.exec(a))&&(this.lineNumber+=b[0].split(/\n/).length-1,a=a.substring(b[0].length)),(b=j.commentRE.exec(a))&&(a=a.substring(b[0].length));while(b);return a},j.prototype.reportError=function(a){this.onError(this.lineNumber,a)},j.prototype.parse=function(a,b){for(b&&(this.context.baseURI=this.parseURI(b));0<a.length;)a=this._trim(a),0<a.length&&(a=this.parseStatement(a))},j.prototype.parseStatement=function(a){var b=this._match(j.prefixIDRE,a);if(b){var c=this._trim(b.remaining),b=this.parsePrefixName(c);if(!b)return this.reportError("Cannot parse prefix after @prefix: "+a.substring(20)+"..."),this.errorCount++,c;if(a=b.prefix,c=this._trim(b.remaining),b=this.parseIRIReference(c),!b)return this.reportError("Cannot parse IRI after @prefix: "+c.substring(20)+"..."),this.errorCount++,c;this.context.prefixes[a]=this.context.baseURI?this.context.baseURI.resolve(b.iri):b.iri;try{this.parseURI(this.context.prefixes[a])}catch(d){this.reportError(d.toString()),this.errorCount++}return c=this._trim(b.remaining),(b=this._match(j.dotRE,c))?b.remaining:(this.reportError("Missing end . for @prefix statement.  Found: "+c.substring(0,20)+"..."),this.errorCount++,c)}if(b=this._match(j.baseRE,a)){if(c=this._trim(b.remaining),b=this.parseIRIReference(c),!b)return this.reportError("Cannot parse IRI after @base: "+c.substring(0,20)+"..."),this.errorCount++,c;try{this.context.baseURI=this.parseURI(this.context.baseURI?this.context.baseURI.resolve(b.iri):b.iri)}catch(e){this.reportError(e+"; IRI: "+b.iri),this.errorCount++}return c=this._trim(b.remaining),(b=this._match(j.dotRE,c))?b.remaining:(this.reportError("Missing end . for @base statement.  Found: "+c.substring(0,20)+"..."),this.errorCount++,c)}if(b=this._match(j.sparqlPrefixRE,a)){if(c=this._trim(b.remaining),b=this.parsePrefixName(c),!b)return this.reportError("Cannot parse prefix after PREFIX: "+a.substring(0,20)+"..."),this.errorCount++,c;if(a=b.prefix,c=this._trim(b.remaining),b=this.parseIRIReference(c),!b)return this.reportError("Cannot parse IRI after PREFIX: "+c.substring(0,20)+"..."),this.errorCount++,c;this.context.prefixes[a]=this.context.baseURI?this.context.baseURI.resolve(b.iri):b.iri;try{this.parseURI(this.context.prefixes[a])}catch(f){this.reportError(f.toString()),this.errorCount++}return b.remaining}if(b=this._match(j.sparqlBaseRE,a)){if(c=this._trim(b.remaining),b=this.parseIRIReference(c),!b)return this.reportError("Cannot parse IRI after BASE: "+c.substring(0,20)+"..."),this.errorCount++,c;try{this.context.baseURI=this.parseURI(this.context.baseURI?this.context.baseURI.resolve(b.iri):b.iri)}catch(g){this.reportError(g+"; IRI: "+b.iri),this.errorCount++}return b.remaining}return a=this.parseTriples(a),a=this._trim(a),(b=this._match(j.dotRE,a))?b.remaining:(this.reportError("Missing end . triples.  Found: "+a.substring(0,20)+"..."),this.errorCount++,a)},j.prototype.parseTriples=function(a){var b=this.parseIRI(a);if(b||(b=this.parseBlankNode(a)))return this.parsePredicateObjectList(b.iri,this._trim(b.remaining));if(b=this._match(j.openParenRE,a)){var a=null,c=b.remaining,d=null;do{if(c=this._trim(c),b=this._match(j.closeParenRE,c)){c=b.remaining,d?this.addTriple(d,j.restURI,{type:j.objectURI,value:j.nilURI}):a=this.newBlankNode();break}b=this.newBlankNode(),d?this.addTriple(d,j.restURI,{type:j.objectURI,value:b}):a=b,d=b,c=this.parseObject(d,j.firstURI,c)}while(0<c.length);return this.parsePredicateObjectList(a,this._trim(c))}return(b=this._match(j.openSquareBracketRE,a))?(a=this.newBlankNode(),c=this._trim(b.remaining),(b=this._match(j.closeSquareBracketRE,c))?c=b.remaining:(c=this.parsePredicateObjectList(a,c),(b=this._match(j.closeSquareBracketRE,this._trim(c)))?c=b.remaining:this.reportError("Missing end square bracket ']'.")),this.parsePredicateObjectList(a,this._trim(c),!0)):b?this.parsePredicateObjectList(b.iri,this._trim(b.remaining)):(this.reportError("Terminating: Cannot parse at "+a.substring(0,20)+" ..."),this.errorCount++,"")},j.prototype.parsePredicateObjectList=function(a,b,c){var d=!0,e=null;do{var f=this.parseIRI(b);if(!f&&(f=this._match(j.aRE,b))&&(f.iri=j.typeURI),!f)return c?b:(this.reportError("Terminating: Cannot parse predicate IRI."),this.errorCount++,"");if(e=this.parseObjectList(a,f.iri,this._trim(f.remaining)),f=this._match(j.semicolonRE,this._trim(e))){do b=this._trim(f.remaining),f=this._match(j.semicolonRE,b);while(f);c=!0}else d=!1}while(d);return e},j.prototype.parseObjectList=function(a,b,c){var d=!0,e=null;do{var e=this.parseObject(a,b,c),f=this._match(j.commaRE,this._trim(e));f?c=this._trim(f.remaining):d=!1}while(d);return e},j.prototype.parseObject=function(a,b,c){var d=this.parseIRI(c);if(d||(d=this.parseBlankNode(c)))return this.addTriple(a,b,{type:j.objectURI,value:d.iri}),d.remaining;if(d=this._match(j.openParenRE,c)){var e=a,f=b,g=d.remaining;do{if(g=this._trim(g),d=this._match(j.closeParenRE,g))return this.addTriple(e,e==a?b:j.restURI,{type:j.objectURI,value:j.nilURI}),d.remaining;d=this.newBlankNode(),e==a?this.addTriple(a,b,{type:j.objectURI,value:d}):this.addTriple(e,j.restURI,{type:j.objectURI,value:d}),e=d,f=j.firstURI,g=this.parseObject(e,f,g)}while(0<g.length)}return(d=this._match(j.openSquareBracketRE,c))?(c=this.newBlankNode(),this.addTriple(a,b,{type:j.objectURI,value:c}),g=this.parsePredicateObjectList(c,this._trim(d.remaining),!0),g=this._trim(g),(d=this._match(j.closeSquareBracketRE,g))?d.remaining:(this.reportError("Missing close square bracket ']' for blank node "+c+" predicate object list"),this.errorCount++,g)):(d=this.parseLiteral(c))?(this.addTriple(a,b,{type:d.type?d.type:j.plainLiteralURI,value:d.literal,language:d.language}),d.remaining):(this.reportError("Terminating: Cannot parse literal at "+c.substring(0,20)),this.errorCount++,"")},j.prototype.parsePrefixName=function(a){return(a=this._match(j.prefixRE,a))&&(a.prefix=a.values[0]),a},j.prototype.parseIRIReference=function(a){return(a=this._match(j.iriRE,a))&&(a.iri=j.expandURI(a.values[0])),a},j.prototype.parseIRI=function(a){var b=this._match(j.iriRE,a);if(b){a=j.expandURI(b.values[0]),b.iri=this.context.baseURI?this.context.baseURI.resolve(a):a;try{this.parseURI(b.iri)}catch(c){this.reportError(c.toString()),this.errorCount++}return b}if(b=this._match(j.prefixRE,a)){var d=b.values[0],a=this.context.prefixes[d];if(!a)return this.reportError("No prefix mapping for "+d),this.errorCount++,null;if(d=b.remaining,b=this._match(j.localNameRE,d)){b.iri=a+j.expandName(b.values[0]);try{this.parseURI(b.iri)}catch(e){this.reportError(e.toString()),this.errorCount++}return b}return{iri:a,remaining:d}}return null},j.prototype.parseBlankNode=function(a){return(a=this._match(j.blankNodeRE,a))&&(a=this._match(j.localNameRE,a.remaining))?(a.iri="_:"+j.expandName(a.values[0]),a):null},j.prototype.parseLiteral=function(a){var b=this._match(j.longDoubleQuoteLiteralRE,a);if(b||(b=this._match(j.longSingleQuoteLiteralRE,a)),b||(b=this._match(j.singleQuoteLiteralRE,a)),b||(b=this._match(j.doubleQuoteLiteralRE,a)),b){a=null;try{a=j.expandLiteral(b.values[0])}catch(c){this.reportError(c.toString()),this.errorCount++}var d=b.remaining;if(b=this._match(j.langRE,d))return b.literal=a,b.language=b.values[0],b;if(b=this._match(j.typeRE,d)){if(d=b.remaining,b=this.parseIRI(d))return b.literal=a,b.type=b.iri,b;this.reportError("Missing type URI after ^^"),this.errorCount++}return{literal:a,remaining:d}}return(b=this._match(j.doubleRE,a))?(b.literal=b.values[0],b.type=j.xsdDoubleURI,b):(b=this._match(j.decimalRE,a))?(b.literal=b.values[0],b.type=j.xsdDecimalURI,b):(b=this._match(j.integerRE,a))?(b.literal=b.values[0],b.type=j.xsdIntegerURI,b):(b=this._match(j.booleanRE,a))?(b.literal=b.values[0],b.type=j.xsdBooleanURI,b):null},j.prototype.newSubject=function(a){var b=this.context.subjects[a];return b||(b=new d(this.context,a),this.context.subjects[a]=b),b},j.expandHex=function(a){for(var b=a.split(/[0-9A-Fa-f]+/),c=0;c<b.length;c++)if(0<b[c].length)throw"Bad hex in escape: "+a;if(b=parseInt(a,16),isNaN(b))throw"Bad hex in escape: "+a;return 65536>b?String.fromCharCode(b):(a=b-65536,b=1023&a,String.fromCharCode((a>>10)+55296)+String.fromCharCode(b+56320))},j.escapedSequenceRE=/(\\t|\\b|\\n|\\r|\\f|\\"|\\'|\\\\|(?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,j.expandLiteral=function(a){for(var a=a.split(j.escapedSequenceRE),b="",c=0;c<a.length;c++)if(0!=a[c].length)if("\\t"==a[c])b+="	";else if("\\b"==a[c])b+="\b";else if("\\n"==a[c])b+="\n";else if("\\r"==a[c])b+="\r";else if("\\f"==a[c])b+="\f";else if('\\"'==a[c])b+='"';else if("\\'"==a[c])b+="'";else if("\\\\"==a[c])b+="\\";else if(6==a[c].length&&"\\"==a[c].charAt(0)&&"u"==a[c].charAt(1))b+=j.expandHex(a[c].substring(2));else if(10==a[c].length&&"\\"==a[c].charAt(0)&&"U"==a[c].charAt(1))b+=j.expandHex(a[c].substring(2));else{var d=a[c].substring(0,2);if(2==d.length&&"\\U"==d)throw"Bad hex in \\U escape "+a[c].substring(0,10);if(2==d.length&&"\\u"==d)throw"Bad hex in \\u escape "+a[c].substring(0,6);if(d=a[c].indexOf("\\"),d>=0)throw"Bad escape "+a[c].substring(d,d+2);b+=a[c]}return b},j.escapedURIRE=/((?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,j.expandURI=function(a){for(var a=a.split(j.escapedURIRE),b="",c=0;c<a.length;c++)if(0!=a[c].length)if(6==a[c].length&&"\\"==a[c].charAt(0)&&"u"==a[c].charAt(1))b+=j.expandHex(a[c].substring(2));else if(10==a[c].length&&"\\"==a[c].charAt(0)&&"U"==a[c].charAt(1))b+=j.expandHex(a[c].substring(2));else{var d=a[c].substring(0,2);if(2==d.length&&"\\U"==d)throw"Bad hex in \\U escape "+a[c].substring(0,10);if(2==d.length&&"\\u"==d)throw"Bad hex in \\u escape "+a[c].substring(0,6);if(d=a[c].indexOf("\\"),d>=0)throw"Bad escape "+a[c].substring(d,d+2);b+=a[c]}return b},j.escapedNameCharRE=/(\\[_~\.\-!$&'()*+,;=/?#@%])/,j.expandName=function(a){for(var a=a.split(j.escapedNameCharRE),b="",c=0;c<a.length;c++)0!=a[c].length&&(b="\\"==a[c].charAt(0)?b+a[c].charAt(1):b+a[c]);return b},j.prototype.addTriple=function(a,b,c){var a=this.newSubject(a),d=a.predicates[b];d||(d=new e(b),a.predicates[b]=d),d.objects.push(c),b==j.typeURI&&a.types.push(c.value)},k.prototype=new a,k.prototype.constructor=k,k.absoluteURIRE=/[\w\_\-]+:\S+/,k.prototype.newBlankNode=function(){return this.blankCounter++,"_:"+this.blankCounter},k.prototype.createBaseURI=function(a){var b=a.indexOf("#");return b>=0&&(a=a.substring(0,b)),this.parseURI(a)},k.trim=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},k.tokenize=function(a){return k.trim(a).split(/\s+/)},k.prototype.getVocabulary=function(a){for(var b=0;b<this.vocabularies.length;b++)if(this.vocabularies[b].isMember(a))return this.vocabularies[b];var b=function(a){return{namespaceURI:a,getProperty:function(a){return this.namespaceURI+a}}},c=a.indexOf("#");return c>=0?b(a.substring(0,c+1)):(c=a.lastIndexOf("/"),b(c>=0?a.substring(0,c+1):a))},k.prototype.getProperty=function(a,b){return k.absoluteURIRE.exec(a)?a:b?b.getProperty(a):null},k.valueMappings={meta:function(a){return a.getAttribute("content")},audio:function(a,b){return b.resolve(a.getAttribute("src"))},a:function(a,b){return b.resolve(a.getAttribute("href"))},object:function(a,b){return b.resolve(a.getAttribute("data"))},time:function(a){var b=a.getAttribute("datetime");return b?b:a.textContent}},k.valueMappings.embed=k.valueMappings.audio,k.valueMappings.iframe=k.valueMappings.audio,k.valueMappings.img=k.valueMappings.audio,k.valueMappings.source=k.valueMappings.audio,k.valueMappings.track=k.valueMappings.audio,k.valueMappings.video=k.valueMappings.audio,k.valueMappings.area=k.valueMappings.a,k.valueMappings.link=k.valueMappings.a,k.prototype.getValue=function(a,b){var c=k.valueMappings[a.localName];return c?c(a,b):a.textContent},k.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",k.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",k.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",k.prototype.process=function(a){a.nodeType==Node.DOCUMENT_NODE&&(a=a.documentElement);var b=[];for(b.push({current:a,context:this.push(null,null)});0<b.length;){var c=b.shift(),a=c.current,c=c.context,d=this.createBaseURI(a.baseURI),e=null,f=c.vocabulary,g=a.hasAttribute("itemscope");if(g){var h=a.getAttribute("itemtype"),i=a.getAttribute("itemid");h&&(f=this.getVocabulary(h),e=i?i:this.newBlankNode(),this.addTriple(a,e,k.typeURI,{type:k.objectURI,value:h}))}if(h=a.getAttribute("itemprop"))if(h=k.tokenize(h),g)c.parent.subject&&e&&this.addTriple(a,c.subject,j,{type:k.objectURI,value:e});else if(f&&(e||(e=c.subject),e))for(d=this.getValue(a,d),g=0;g<h.length;g++){var j=0<h[g].length?this.getProperty(h[g],f):null;j&&this.addTriple(a,e,j,{type:k.PlainLiteralURI,value:d})}for(a=a.lastChild;a;a=a.previousSibling)a.nodeType==Node.ELEMENT_NODE&&b.unshift({current:a,context:this.push(c,e,f)})}},k.prototype.push=function(a,b,c){return{parent:a,subject:b?b:a?a.subject:null,vocabulary:c?c:a?a.vocabulary:null}},k.prototype.addTriple=function(){},l.prototype=new k,l.prototype.constructor=k,l.prototype.addTriple=function(a,b,c,f){var g=this.graph.subjects[b];g||(g=new d(this.graph,b),this.graph.subjects[b]=g),b=g.predicates[c],b||(b=new e(c),g.predicates[c]=b);for(var h=0;h<b.objects.length;h++)if(b.objects[h].type==f.type&&b.objects[h].value==f.value)return void(b.objects[h].origin!==a&&(Array.isArray(b.objects[h].origin)||(c=[],c.push(b.objects[h].origin),b.objects[h].origin=c),b.objects[h].origin.push(a)));b.objects.push(f),f.origin=a,c==k.typeURI&&g.types.push(f.value)};var n={attach:function(a,b){var c=a.implementation.hasFeature;a.implementation.hasFeature=function(a,b){return"RDFaAPI"==a&&"1.1"==b?!0:c.apply(this,arguments)};var d=a.data?!0:!1;if(a.data)a.data._data_&&a.data._data_.graph.clear();else{i.attach(a,b);var e=function(a){return a.id||(a.id="R"+Date.now()),new CustomEvent("green-turtle-response",{detail:a})};window.addEventListener("green-turtle-request",function(b){if("status"==b.detail.type)b={type:"status",version:GreenTurtle.version,loaded:d,count:a.data.graph.tripleCount,id:b.detail.id},window.dispatchEvent(e(b));else if("get-subjects"==b.detail.type){var c=a.data.getSubjects(),b={type:"subjects",subjects:c,id:b.detail.id};window.dispatchEvent(e(b))}else if("get-subject"==b.detail.type){var f=null,g=b.detail.subject;if(a.data.getSubject)f=(c=a.data.getSubject(g))?c.toObject():null;else for(var f={subject:g,predicates:{}},h=a.data.getProjection(g),i=h.getProperties(),j=0;j<i.length;j++){var k=[];f.predicates[i[j]]={predicate:predicate,objects:k};for(var l=h.getAll(i[j]),m=0;m<l.length;m++)k.push(c[l[m]]?{type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:l[m]}:{type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:l[m]})}b={type:"subject",subject:g,triples:f,id:b.detail.id},window.dispatchEvent(e(b))}else console.log("Unrecognized message: "+JSON.stringify(b.detail))},!1)}var g=function(){var c=new f(a.data._data_);c.finishedHandlers.push(function(){for(var c in n.processors)n.processors[c].process(a,b)}),c.finishedHandlers.push(function(a){if(a.ownerDocument){var b=a.ownerDocument.createEvent("HTMLEvents");b.initEvent("rdfa.loaded",!0,!0),a.ownerDocument.dispatchEvent(b)}}),c.process(a.documentElement,b),d=!0};"loading"==a.readyState?window.addEventListener("load",function(){g()},!1):g()},parse:function(a,b,c){var d=this.processors[b];if(!d)throw"Unsupported media type "+b;if(d=d.createParser(),c&&c.errorHandler&&(d.onError=c.errorHandler),c=c?c.baseURI:null,d.parse(a,c),0<d.errorCount)throw c?"Errors during parsing "+c+" of type "+b:"Errors during parsing of type "+b;return d.context},createDocumentData:function(a){return new i(a?a:window?window.location.href:"about:blank")}};return Object.defineProperty(n,"processors",{value:{},writable:!1,configurable:!1,enumerable:!0}),n.processors["text/turtle"]={createParser:function(){return new j},process:function(a,b){if(this.enabled){var c=a.nodeType==Node.DOCUMENT_NODE?a:a.ownerDocument;if(c.data){for(var d=!0,e=c.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","script"),f=0;f<e.length;f++)if("text/turtle"==e[f].getAttribute("type")){var g=this.createParser();b&&b.errorHandler&&(g.onError=b.errorHandler),g.parse(e[f].textContent,b?b.baseURI:null),0<g.errorCount?d=!1:c.data.merge(g.context.subjects,{prefixes:g.context.prefixes})}return d}}},enabled:!0},n.processors.microdata={process:function(a){if(this.enabled){var b=a.nodeType==Node.DOCUMENT_NODE?a:a.ownerDocument;return b.data?(new l(b.data.graph).process(a),!0):!1}},enabled:!1},Object.defineProperty(m,"implementation",{value:n,writable:!1,configurable:!1,enumerable:!0}),m.attach=function(a,b){n.attach(a,b)
},m}();GreenTurtle.attach(document);