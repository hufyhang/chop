$ch.define("scope",function(){"use strict";function a(a,b){"string"==typeof a&&(b=a,a=document);var c=a,d=c.querySelectorAll("[ch-scope="+b+"]"),e=$$CHOP.scope(b);void 0!==d&&null!==d&&d.forEach(function(a){var b=a;void 0===e._els?e._els=[a]:e._els.push(a),a=a.cloneNode(!0);var c=a.querySelectorAll("[ch-scope]");null!==c&&void 0!==c&&c.forEach(function(a){a.parentNode.removeChild(a)});var d=a.querySelectorAll("[ch-name]");null!==d&&void 0!==d&&d.forEach(function(a){var c=a.getAttribute("ch-name"),d=a.getAttribute("id");d&&c&&(e[c]=$$CHOP.element(b.querySelector("#"+d)))});var f=a.querySelectorAll("[ch-data]");null!==f&&void 0!==f&&f.forEach(function(a){var b=a.getAttribute("id");b&&(void 0===e._data_entities?e._data_entities=[b]:e._data_entities.push(b))})})}function b(a){var b=$$CHOP.scope(a);if(b&&void 0!==b._els&&$$CHOP.isArray(b._els)!==!1){var c=b._data_entities;c.forEach(function(a){for(var c=document.querySelector("#"+a),d=c.innerHTML,e=c.innerHTML.match(/{{[^{]{1,}}}/g),f=0;f!==e.length;++f){var g=e[f].replace(/{/g,"");g=g.replace(/}/g,""),d=d.replace(new RegExp(e[f],"g"),b[g])}c.innerHTML=d,$$CHOP._loadView(c)})}}$$CHOP.scopes={},$$CHOP.scope=function(c,d){if("string"!=typeof c)throw new Error("$ch.scope requires at least a string-type name parameter.");if(void 0===d)return $$CHOP.scopes[c];$$CHOP.scopes[c]={_els:[],_data_entities:[]},a(c),d.call(this,$$CHOP.scopes[c]),b(c);var e=$$CHOP._loadView;return $$CHOP._loadView=function(b){(void 0===b||null===b)&&(b=document),a(c),e(b)},$$CHOP}});