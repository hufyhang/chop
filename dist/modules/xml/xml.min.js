$ch.define("xml",function(){"use strict";$$CHOP.xml={},$$CHOP.xml._toJSON=function(a){var b={};if(1===a.nodeType){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else 3===a.nodeType&&(b=a.nodeValue);if(a.hasChildNodes())for(var e=0;e<a.childNodes.length;e++){var f=a.childNodes.item(e),g=f.nodeName;if("undefined"==typeof b[g])b[g]=this._toJSON(f);else{if("undefined"==typeof b[g].push){var h=b[g];b[g]=[],b[g].push(h)}b[g].push(this._toJSON(f))}}return b},$$CHOP.xml.toJSON=function(a){var b;if(0===arguments.length)throw new Error("$ch.xmlToJson requires a parameter.");if("string"==typeof a)if(window.ActiveXObject)b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);else{var c=new DOMParser;b=c.parseFromString(a,"text/xml")}else b=a;return this._toJSON(b)}});