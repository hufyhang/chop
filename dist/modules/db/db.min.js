$ch.define("db",function(){"use strict";function a(a,c,d,e){if(!openDatabase)throw new Error("WebSQL is not supported by the browser.");if(0===arguments.length)throw new Error("$ch.db.websql requires at least one parameter.");this.dbName=a,this.dbVersion=c||"1.0",this.dbDesc=d||"A WebSQL database manupulated via ChopJS",this.dbSize=e||b,"number"==typeof this.dbVersion&&(this.dbVersion=this.dbVersion+""),this.db=openDatabase(this.dbName,this.dbVersion,this.dbDesc,this.dbSize)}var b=5242880;$$CHOP.db={},$$CHOP.db={websql:function(b,c,d,e){return new a(b,c,d,e)}},a.prototype={query:function(a){if(0===arguments.length)throw new Error("ChopJS WebSQL query requires a parameter.");$$CHOP._isArray(a)||(a=[a]),this.db.transaction(function(b){$$CHOP.each(a,function(a){var c=Object.keys(a)[0],d=a[c].data||[],e=a[c].done||function(){},f=function(a,b){e.apply(this,[a,b])},g=function(a,b){for(var c=[],d=b.rows.length,f=0;f!==d;++f)c.push(b.rows.item(f));e.apply(this,[a,void 0,c])};b.executeSql(c,d,g,f)})})}}});