$ch.define("node",function(){"use strict";var a=function(){var b={_node:void 0,_chopel:void 0,context:function(){return this._node},chopEl:function(){return this._chopel},parent:function(){var b=a();return b._node=this._node.parentNode,b},child:function(){for(var b=this._node.childNodes,c=[],d=0,e=b.length;d!==e;++d){var f=b[d],g=a();g._node=f,c.push(g)}return c},remove:function(){return this._node.remove(),this},contains:function(a){if(0===arguments.length)throw new Error(".contains requires a chop.js node parameter.");for(var b=this._node.childNodes,c=!1,d=0,e=b.length;d!==e;++d){var f=b[d];f===a._node&&(c=!0)}return c},next:function(){var b=a();return b._node=this._node.nextElementSibling,b},previous:function(){var b=a();return b._node=this._node.previousElementSibling,b},html:function(a){return 0===arguments.length?this._node.innerHTML:(this._node.innerHTML=a,$$CHOP._loadView(this._node),this)},append:function(a){return void 0!==a&&this.html(this._node.innerHTML+a),this},prepend:function(a){return void 0!==a&&this.html(a+this._node.innerHTML),this},"class":function(a){if(void 0!==a){var b=!0;if($$CHOP.isArray(a)){var c=this;$$CHOP.each(a,function(a){-1===c._node.className.indexOf(a)&&(b=!1)})}else-1===this._node.className.indexOf(a)&&(b=!1);return b}return this._node.className},addClass:function(a){if(void 0!==a)if($$CHOP.isArray(a)){var b=this;$$CHOP.each(a,function(a){b._node.className+=a+" "})}else this._node.className+=a+" ";return this},removeClass:function(a){if(void 0!==a){var b;$$CHOP.isArray(a)?(b=this._node.className,$$CHOP.each(a,function(a){b=b.replace(a,"")}),this._node.className=b.replace(a,"")):(b=this._node.className,this._node.className=b.replace(a,""))}return this},attr:function(a,b){if(0===arguments.length)return this._node.attributes;if(1===arguments.length)return this._node.getAttribute(a);this._node.setAttribute(a,b);var c=this._node.parentNode;return null!==c&&void 0!==c&&$$CHOP._loadView(c),this},prependNode:function(a){if(0===arguments.length)throw new Error(".prependNode requires a node parameter.");var b=this.child();return 0!==b.length?this._node.insertBefore(a._node,b[0]._node):this._node.appendChild(a._node),$$CHOP._loadView(this._node),this},appendNode:function(a){if(0===arguments.length)throw new Error(".appendNode requires a node parameter.");return this._node.appendChild(a._node),$$CHOP._loadView(this._node),this},insert:function(a,b){return void 0===b&&(b="after"),"string"!=typeof a&&$$CHOP.isArray(a)===!1&&(a=a.html()),b=b.toUpperCase(),"AFTER"!==b&&"BEFORE"!==b&&(b="AFTER"),"AFTER"===b?this.html(this.html()+a):"BEFORE"===b&&this.html(a+this.html()),this},removeNode:function(a){if(0===arguments.length)throw new Error(".removeNode requires a node parameter.");return this._node.removeChild(a._node),$$CHOP._loadView(this._node),this}};return b};$$CHOPEL.node=function(){var b=a();return b._node=this.el,b._chopel=this,b},$$CHOPEL.child=function(){for(var b=this.el.childNodes,c=[],d=0,e=b.length;d!==e;++d){var f=b[d],g=a();g._node=f,c.push(g)}return c},$$CHOP.node=function(b,c){if(0===arguments.length)throw new Error("$ch.node requires at least one tag-name parameter.");var d=document.createElement(b);void 0!==c&&(d.innerHTML=c);var e=a();return e._node=d,e},$$CHOPEL.appendNode=function(a){if(0===arguments.length)throw new Error(".appendNode requires a node parameter.");return this.el.appendChild(a._node),$$CHOP._loadView(this.el),this},$$CHOPEL.removeNode=function(a){if(0===arguments.length)throw new Error(".removeNode requires a node parameter.");return this.el.removeChild(a._node),$$CHOP._loadView(this.el),this}});