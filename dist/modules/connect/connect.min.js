$ch.define("connect",function(){"use strict";$$CHOP.connect={},$$CHOP.connect={worker:function(a,b){if(!window.Worker)throw new Error("Worker is not supported by this browser.");if(2!==arguments.length)throw new Error("$ch.connect.worker requires two parameters.");if("string"!=typeof a)throw new Error("$ch.connect.worker requires a string-type URL parameter.");if("function"!=typeof b)throw new Error("$ch.connect.worker requires a function-type callback parameter.");var c=new Worker(a);return c.onmessage=function(a){var c=a.data;b(c)},c.postMessage(),c},sse:function(a){if(!window.EventSource)throw new Error("Server-Sent Event is not supported by this browser.");if("object"!=typeof a)throw new Error("$ch.connect.sse requires an object-type parameter.");if(void 0===a.url)throw new Error("$ch.connect.sse requires an URL value in parameter object.");var b=new window.EventSource(a.url);return $$CHOP.each(a,function(a,c){"URL"!==a.toUpperCase()&&b.addEventListener(a,c,!1)}),b},socket:function(a){if(!window.WebSocket)throw new Error("WebSocket is not supported by this browser.");if("object"!=typeof a)throw new Error("$ch.connect.socket requires an object-type parameter.");if(void 0===a.url)throw new Error("$ch.connect.socket requires an URL value in parameter object.");var b=new window.WebSocket(a.url);return $$CHOP.each(a,function(a,c){"URL"!==a.toUpperCase()&&(b["on"+a.toLowerCase()]=c)}),b}}});