$ch.define("directive",function(){"use strict";$$CHOP.directive={},$$CHOP.directive={updateEvents:{},add:function(a,b,c){if(arguments.length<2)throw new Error("$ch.directive.add requires two parameters.");if("string"!=typeof a)throw new Error("$ch.directive.add requires a string-type parameter for the cutomized directive.");if("string"==typeof b){var d=document.createElement("template");d.innerHTML=b,b=d}var e,f,g,h,i,j=Object.create(HTMLElement.prototype);"function"==typeof c?(e=c,f=function(){},g=function(){},h=function(){},i=function(){}):(e=c.onCreated||function(){},f=c.onUpdated||function(){},g=c.onAttribute||function(){},h=c.onAttached||function(){},i=c.onDetached||function(){});var k=e;return e=function(){if(this.createShadowRoot){var a=this.createShadowRoot();a.appendChild(b.content.cloneNode(!0))}else this.appendChild(b.content.cloneNode(!0));k.apply(this);var c=this.getAttribute("id");null!==c&&($$CHOP.directive.updateEvents[c]={el:this,shadow:a,onUpdate:f})},j.createdCallback=e,j.attachedCallback=h,j.detachedCallback=i,j.attributeChangedCallback=g,document.registerElement(a,{prototype:j}),this},update:function(a,b){if(2!==arguments.length)throw new Error("$ch.directive.update requires two parameters.");var c=this.updateEvents[a];if(void 0===c)throw new Error('No onUpdated events registered for "'+a+'".');c.el.innerHTML=b,c.onUpdate(b,c.el,c.shadow)}}});